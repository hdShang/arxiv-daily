---
layout: default
title: OUSAC: Optimized Guidance Scheduling with Adaptive Caching for DiT Acceleration
---

# OUSAC: Optimized Guidance Scheduling with Adaptive Caching for DiT Acceleration

**arXiv**: [2512.14096v1](https://arxiv.org/abs/2512.14096) | [PDF](https://arxiv.org/pdf/2512.14096.pdf)

**ä½œè€…**: Ruitong Sun, Tianze Yang, Wei Niu, Jin Sun

**åˆ†ç±»**: cs.CV

**å‘å¸ƒæ—¥æœŸ**: 2025-12-16

**å¤‡æ³¨**: 29 pages

---

## ðŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºOUSACæ¡†æž¶ï¼Œé€šè¿‡ä¼˜åŒ–å¼•å¯¼è°ƒåº¦ä¸Žè‡ªé€‚åº”ç¼“å­˜åŠ é€Ÿæ‰©æ•£å˜æ¢å™¨ï¼Œè§£å†³CFGè®¡ç®—å¼€é”€å¤§çš„é—®é¢˜ã€‚**

ðŸŽ¯ **åŒ¹é…é¢†åŸŸ**: **è§†è§‰é‡Œç¨‹è®¡** **å¼ºåŒ–å­¦ä¹ **

**å…³é”®è¯**: `æ‰©æ•£æ¨¡åž‹åŠ é€Ÿ` `æ— åˆ†ç±»å™¨å¼•å¯¼` `æ‰©æ•£å˜æ¢å™¨` `è®¡ç®—ä¼˜åŒ–` `è‡ªé€‚åº”ç¼“å­˜` `è¿›åŒ–ç®—æ³•` `å›¾åƒç”Ÿæˆ` `ç¨€ç–è®¡ç®—`

## ðŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. æ‰©æ•£æ¨¡åž‹ç”Ÿæˆé«˜è´¨é‡å›¾åƒä½†è®¡ç®—å¼€é”€å¤§ï¼ŒCFGè™½æå‡è´¨é‡å´åŠ å€è®¡ç®—é‡ï¼ŒçŽ°æœ‰æ–¹æ³•éš¾ä»¥å¹³è¡¡æ•ˆçŽ‡ä¸Žè´¨é‡ã€‚
2. æå‡ºOUSACæ¡†æž¶ï¼Œé€šè¿‡å¯å˜å¼•å¯¼å°ºåº¦å®žçŽ°ç¨€ç–è®¡ç®—ï¼Œç»“åˆè¿›åŒ–ç®—æ³•ä¼˜åŒ–è°ƒåº¦å’Œè‡ªé€‚åº”ç¼“å­˜ç»´æŒæœ‰æ•ˆæ€§ã€‚
3. å®žéªŒæ˜¾ç¤ºOUSACæ˜¾è‘—ä¼˜äºŽçŽ°æœ‰æ–¹æ³•ï¼Œåœ¨å¤šä¸ªæ•°æ®é›†ä¸Šå®žçŽ°50%ä»¥ä¸Šè®¡ç®—èŠ‚çœå’Œ15%ä»¥ä¸Šè´¨é‡æå‡ï¼ŒåŠ é€Ÿæ•ˆæžœçªå‡ºã€‚

## ðŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

æ‰©æ•£æ¨¡åž‹å·²æˆä¸ºé«˜è´¨é‡å›¾åƒç”Ÿæˆçš„ä¸»å¯¼èŒƒå¼ï¼Œä½†ç”±äºŽè¿­ä»£åŽ»å™ªï¼Œå…¶è®¡ç®—å¼€é”€ä»ç„¶å¾ˆå¤§ã€‚æ— åˆ†ç±»å™¨å¼•å¯¼ï¼ˆCFGï¼‰æ˜¾è‘—æé«˜äº†ç”Ÿæˆè´¨é‡å’Œå¯æŽ§æ€§ï¼Œä½†éœ€è¦åœ¨æ¯ä¸ªæ—¶é—´æ­¥åŒæ—¶è¿›è¡Œæ¡ä»¶å‰å‘ä¼ æ’­å’Œæ— æ¡ä»¶å‰å‘ä¼ æ’­ï¼Œä»Žè€Œä½¿è®¡ç®—é‡åŠ å€ã€‚æˆ‘ä»¬æå‡ºäº†OUSACï¼ˆä¼˜åŒ–å¼•å¯¼è°ƒåº¦ä¸Žè‡ªé€‚åº”ç¼“å­˜ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªé€šè¿‡ç³»ç»Ÿä¼˜åŒ–åŠ é€Ÿæ‰©æ•£å˜æ¢å™¨ï¼ˆDiTï¼‰çš„æ¡†æž¶ã€‚æˆ‘ä»¬çš„å…³é”®è§è§£æ˜¯ï¼Œå¯å˜çš„å¼•å¯¼å°ºåº¦å¯ä»¥å®žçŽ°ç¨€ç–è®¡ç®—ï¼šåœ¨æŸäº›æ—¶é—´æ­¥è°ƒæ•´å°ºåº¦å¯ä»¥è¡¥å¿åœ¨å…¶ä»–æ—¶é—´æ­¥è·³è¿‡CFGï¼Œä»Žè€Œåœ¨ä¿æŒè´¨é‡çš„åŒæ—¶å‡å°‘æ€»é‡‡æ ·æ­¥éª¤å’ŒCFGæ­¥éª¤ã€‚ç„¶è€Œï¼Œå¯å˜çš„å¼•å¯¼æ¨¡å¼å¼•å…¥äº†åŽ»å™ªåå·®ï¼Œç ´åäº†æ ‡å‡†ç¼“å­˜æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å‡è®¾è·¨æ­¥éª¤çš„CFGå°ºåº¦æ’å®šã€‚æ­¤å¤–ï¼Œåœ¨åŠ¨æ€æ¡ä»¶ä¸‹ï¼Œä¸åŒçš„å˜æ¢å™¨å—å—åˆ°çš„å½±å“ç¨‹åº¦ä¸åŒã€‚æœ¬æ–‡åˆ©ç”¨è¿™äº›è§è§£å¼€å‘äº†ä¸€ç§ä¸¤é˜¶æ®µæ–¹æ³•ã€‚ç¬¬ä¸€é˜¶æ®µé‡‡ç”¨è¿›åŒ–ç®—æ³•è”åˆä¼˜åŒ–è·³è¿‡å“ªäº›æ—¶é—´æ­¥ä»¥åŠä½¿ç”¨ä»€ä¹ˆå¼•å¯¼å°ºåº¦ï¼Œæ¶ˆé™¤äº†é«˜è¾¾82%çš„æ— æ¡ä»¶å‰å‘ä¼ æ’­ã€‚ç¬¬äºŒé˜¶æ®µå¼•å…¥äº†è‡ªé€‚åº”ç§©åˆ†é…ï¼Œä¸ºæ¯ä¸ªå˜æ¢å™¨å—å®šåˆ¶æ ¡å‡†å·¥ä½œï¼Œåœ¨å¯å˜å¼•å¯¼ä¸‹ä¿æŒç¼“å­˜æœ‰æ•ˆæ€§ã€‚å®žéªŒè¡¨æ˜Žï¼ŒOUSACæ˜¾è‘—ä¼˜äºŽæœ€å…ˆè¿›çš„åŠ é€Ÿæ–¹æ³•ï¼Œåœ¨DiT-XL/2ï¼ˆImageNet 512x512ï¼‰ä¸Šå®žçŽ°äº†53%çš„è®¡ç®—èŠ‚çœå’Œ15%çš„è´¨é‡æå‡ï¼Œåœ¨PixArt-alphaï¼ˆMSCOCOï¼‰ä¸Šå®žçŽ°äº†60%çš„èŠ‚çœå’Œ16.1%çš„æå‡ï¼Œåœ¨FLUXä¸Šå®žçŽ°äº†5å€åŠ é€Ÿï¼ŒåŒæ—¶CLIPåˆ†æ•°è¶…è¿‡äº†50æ­¥åŸºçº¿ã€‚

## ðŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šæ‰©æ•£æ¨¡åž‹ï¼ˆç‰¹åˆ«æ˜¯æ‰©æ•£å˜æ¢å™¨DiTï¼‰åœ¨å›¾åƒç”Ÿæˆä¸­è®¡ç®—å¼€é”€å¤§ï¼Œä¸»è¦æºäºŽè¿­ä»£åŽ»å™ªè¿‡ç¨‹ã€‚æ— åˆ†ç±»å™¨å¼•å¯¼ï¼ˆCFGï¼‰è™½æå‡ç”Ÿæˆè´¨é‡å’Œå¯æŽ§æ€§ï¼Œä½†éœ€åœ¨æ¯ä¸ªæ—¶é—´æ­¥åŒæ—¶æ‰§è¡Œæ¡ä»¶å‰å‘ä¼ æ’­å’Œæ— æ¡ä»¶å‰å‘ä¼ æ’­ï¼Œå¯¼è‡´è®¡ç®—é‡åŠ å€ã€‚çŽ°æœ‰åŠ é€Ÿæ–¹æ³•å¦‚æ ‡å‡†ç¼“å­˜å‡è®¾CFGå°ºåº¦æ’å®šï¼Œæ— æ³•é€‚åº”å¯å˜å¼•å¯¼æ¨¡å¼ï¼Œä¸”ä¸åŒå˜æ¢å™¨å—åœ¨åŠ¨æ€æ¡ä»¶ä¸‹å—å½±å“ç¨‹åº¦ä¸åŒï¼Œé€ æˆåŽ»å™ªåå·®å’Œç¼“å­˜å¤±æ•ˆã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šè®ºæ–‡çš„æ ¸å¿ƒæ€è·¯æ˜¯åˆ©ç”¨å¯å˜å¼•å¯¼å°ºåº¦å®žçŽ°ç¨€ç–è®¡ç®—ï¼Œé€šè¿‡è°ƒæ•´æŸäº›æ—¶é—´æ­¥çš„å¼•å¯¼å°ºåº¦æ¥è¡¥å¿è·³è¿‡CFGæ­¥éª¤çš„æŸå¤±ï¼Œä»Žè€Œå‡å°‘æ€»è®¡ç®—é‡ã€‚åŒæ—¶ï¼Œé’ˆå¯¹å¯å˜å¼•å¯¼æ¨¡å¼å¼•å…¥çš„è‡ªé€‚åº”ç¼“å­˜æœºåˆ¶ï¼Œé€šè¿‡å®šåˆ¶åŒ–æ ¡å‡†æ¯ä¸ªå˜æ¢å™¨å—ï¼Œç»´æŒç¼“å­˜æœ‰æ•ˆæ€§ã€‚è¿™åŸºäºŽæ´žå¯Ÿï¼šå¼•å¯¼å°ºåº¦çš„åŠ¨æ€å˜åŒ–å¯ä¼˜åŒ–è°ƒåº¦ï¼Œè€Œå—çº§å·®å¼‚éœ€ç²¾ç»†å¤„ç†ã€‚

**æŠ€æœ¯æ¡†æž¶**ï¼šOUSACé‡‡ç”¨ä¸¤é˜¶æ®µæ¡†æž¶ã€‚ç¬¬ä¸€é˜¶æ®µï¼šä½¿ç”¨è¿›åŒ–ç®—æ³•è”åˆä¼˜åŒ–æ—¶é—´æ­¥è·³è¿‡ç­–ç•¥å’Œå¼•å¯¼å°ºåº¦è®¾ç½®ï¼Œç›®æ ‡æ˜¯åœ¨ä¿æŒç”Ÿæˆè´¨é‡çš„å‰æä¸‹ï¼Œæœ€å¤§åŒ–æ— æ¡ä»¶å‰å‘ä¼ æ’­çš„è·³è¿‡æ¯”ä¾‹ï¼ˆå¯è¾¾82%ï¼‰ã€‚ç¬¬äºŒé˜¶æ®µï¼šå¼•å…¥è‡ªé€‚åº”ç§©åˆ†é…ï¼Œæ ¹æ®æ¯ä¸ªå˜æ¢å™¨å—åœ¨å¯å˜å¼•å¯¼ä¸‹çš„æ•æ„Ÿåº¦ï¼ŒåŠ¨æ€åˆ†é…æ ¡å‡†èµ„æºï¼Œç¡®ä¿ç¼“å­˜æœºåˆ¶åœ¨éžæ’å®šå°ºåº¦ä¸‹ä»èƒ½æœ‰æ•ˆå·¥ä½œã€‚æ•´ä½“æµç¨‹ä»Žä¼˜åŒ–è°ƒåº¦åˆ°è‡ªé€‚åº”è°ƒæ•´ï¼Œå®žçŽ°ç«¯åˆ°ç«¯åŠ é€Ÿã€‚

**å…³é”®åˆ›æ–°**ï¼šæœ€é‡è¦çš„æŠ€æœ¯åˆ›æ–°æ˜¯å¯å˜å¼•å¯¼è°ƒåº¦ä¸Žè‡ªé€‚åº”ç¼“å­˜çš„ç»“åˆã€‚ä¸ŽçŽ°æœ‰æ–¹æ³•ï¼ˆå¦‚å›ºå®šCFGæˆ–ç®€å•ç¼“å­˜ï¼‰ç›¸æ¯”ï¼Œæœ¬è´¨åŒºåˆ«åœ¨äºŽï¼š1ï¼‰å…è®¸å¼•å¯¼å°ºåº¦éšæ—¶é—´æ­¥å˜åŒ–ï¼Œå®žçŽ°è®¡ç®—ç¨€ç–åŒ–ï¼›2ï¼‰å¼€å‘å—çº§è‡ªé€‚åº”æœºåˆ¶ï¼Œè§£å†³åŠ¨æ€æ¡ä»¶ä¸‹çš„ç¼“å­˜åå·®é—®é¢˜ã€‚è¿™çªç ´äº†ä¼ ç»Ÿæ’å®šå‡è®¾ï¼Œå®žçŽ°äº†æ›´é«˜æ•ˆçš„èµ„æºåˆ†é…ã€‚

**å…³é”®è®¾è®¡**ï¼šå…³é”®è®¾è®¡åŒ…æ‹¬ï¼š1ï¼‰è¿›åŒ–ç®—æ³•ç”¨äºŽä¼˜åŒ–ï¼Œå‚æ•°åŒ…æ‹¬æ—¶é—´æ­¥é€‰æ‹©çŸ©é˜µå’Œå¼•å¯¼å°ºåº¦å‘é‡ï¼ŒæŸå¤±å‡½æ•°ç»“åˆç”Ÿæˆè´¨é‡æŒ‡æ ‡ï¼ˆå¦‚CLIPåˆ†æ•°ï¼‰å’Œè®¡ç®—æˆæœ¬ï¼›2ï¼‰è‡ªé€‚åº”ç§©åˆ†é…åŸºäºŽå—æ•æ„Ÿåº¦åˆ†æžï¼Œé€šè¿‡ä½Žç§©è¿‘ä¼¼æ ¡å‡†ç¼“å­˜ï¼Œç§©æ•°æ ¹æ®å—åœ¨å¯å˜å¼•å¯¼ä¸‹çš„è¯¯å·®åŠ¨æ€è°ƒæ•´ï¼›3ï¼‰ç½‘ç»œç»“æž„æ²¿ç”¨æ ‡å‡†DiTï¼Œä½†é›†æˆè°ƒåº¦å’Œç¼“å­˜æ¨¡å—ï¼Œæ— éœ€ä¿®æ”¹åº•å±‚æ¨¡åž‹ã€‚å…·ä½“è®¾ç½®å¦‚å®žéªŒä¸­ä½¿ç”¨DiT-XL/2ç­‰åŸºå‡†æ¨¡åž‹ï¼Œä¼˜åŒ–ç›®æ ‡ä¸ºæœ€å°åŒ–å‰å‘ä¼ æ’­æ¬¡æ•°åŒæ—¶æœ€å¤§åŒ–è´¨é‡å¾—åˆ†ã€‚

## ðŸ“Š å®žéªŒäº®ç‚¹

å®žéªŒç»“æžœè¡¨æ˜ŽOUSACåœ¨å¤šä¸ªåŸºå‡†ä¸Šå–å¾—æ˜¾è‘—æ€§èƒ½æå‡ï¼šåœ¨DiT-XL/2ï¼ˆImageNet 512x512ï¼‰ä¸Šï¼Œå®žçŽ°53%è®¡ç®—èŠ‚çœå’Œ15%è´¨é‡æå‡ï¼›åœ¨PixArt-alphaï¼ˆMSCOCOï¼‰ä¸Šï¼ŒèŠ‚çœ60%è®¡ç®—å¹¶æå‡16.1%è´¨é‡ï¼›åœ¨FLUXæ¨¡åž‹ä¸Šï¼ŒåŠ é€Ÿ5å€ä¸”CLIPåˆ†æ•°è¶…è¿‡50æ­¥åŸºçº¿ã€‚è¿™äº›ç»“æžœä¼˜äºŽæœ€å…ˆè¿›çš„åŠ é€Ÿæ–¹æ³•ï¼Œè¯æ˜Žäº†æ¡†æž¶åœ¨å‡å°‘æ— æ¡ä»¶å‰å‘ä¼ æ’­ï¼ˆé«˜è¾¾82%ï¼‰å’Œç»´æŒç¼“å­˜æœ‰æ•ˆæ€§æ–¹é¢çš„æœ‰æ•ˆæ€§ã€‚

## ðŸŽ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶åœ¨æ‰©æ•£æ¨¡åž‹åŠ é€Ÿé¢†åŸŸå…·æœ‰å¹¿æ³›æ½œåœ¨åº”ç”¨ï¼Œä¸»è¦é¢å‘é«˜è´¨é‡å›¾åƒç”Ÿæˆä»»åŠ¡ï¼Œå¦‚è‰ºæœ¯åˆ›ä½œã€åª’ä½“å†…å®¹ç”Ÿæˆå’Œå·¥ä¸šè®¾è®¡ã€‚å®žé™…ä»·å€¼åœ¨äºŽæ˜¾è‘—é™ä½Žè®¡ç®—æˆæœ¬ï¼Œä½¿DiTç­‰å¤§æ¨¡åž‹æ›´æ˜“äºŽéƒ¨ç½²åœ¨èµ„æºå—é™çŽ¯å¢ƒï¼ˆå¦‚ç§»åŠ¨è®¾å¤‡æˆ–è¾¹ç¼˜è®¡ç®—ï¼‰ï¼ŒåŒæ—¶æå‡ç”Ÿæˆæ•ˆçŽ‡ã€‚æœªæ¥å¯èƒ½å½±å“æ‰©æ•£æ¨¡åž‹çš„è§„æ¨¡åŒ–åº”ç”¨ï¼ŒæŽ¨åŠ¨å®žæ—¶å›¾åƒç”Ÿæˆå’Œäº¤äº’å¼AIå·¥å…·çš„å‘å±•ï¼Œä¸ºå¤šæ¨¡æ€AIç³»ç»Ÿæä¾›æ›´é«˜æ•ˆçš„åº•å±‚æ”¯æŒã€‚

## ðŸ“„ æ‘˜è¦ï¼ˆåŽŸæ–‡ï¼‰

> Diffusion models have emerged as the dominant paradigm for high-quality image generation, yet their computational expense remains substantial due to iterative denoising. Classifier-Free Guidance (CFG) significantly enhances generation quality and controllability but doubles the computation by requiring both conditional and unconditional forward passes at every timestep. We present OUSAC (Optimized gUidance Scheduling with Adaptive Caching), a framework that accelerates diffusion transformers (DiT) through systematic optimization. Our key insight is that variable guidance scales enable sparse computation: adjusting scales at certain timesteps can compensate for skipping CFG at others, enabling both fewer total sampling steps and fewer CFG steps while maintaining quality. However, variable guidance patterns introduce denoising deviations that undermine standard caching methods, which assume constant CFG scales across steps. Moreover, different transformer blocks are affected at different levels under dynamic conditions. This paper develops a two-stage approach leveraging these insights. Stage-1 employs evolutionary algorithms to jointly optimize which timesteps to skip and what guidance scale to use, eliminating up to 82% of unconditional passes. Stage-2 introduces adaptive rank allocation that tailors calibration efforts per transformer block, maintaining caching effectiveness under variable guidance. Experiments demonstrate that OUSAC significantly outperforms state-of-the-art acceleration methods, achieving 53% computational savings with 15% quality improvement on DiT-XL/2 (ImageNet 512x512), 60% savings with 16.1% improvement on PixArt-alpha (MSCOCO), and 5x speedup on FLUX while improving CLIP Score over the 50-step baseline.

