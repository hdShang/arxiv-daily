---
layout: default
title: OUSAC: Optimized Guidance Scheduling with Adaptive Caching for DiT Acceleration
---

# OUSAC: Optimized Guidance Scheduling with Adaptive Caching for DiT Acceleration

**arXiv**: [2512.14096v1](https://arxiv.org/abs/2512.14096) | [PDF](https://arxiv.org/pdf/2512.14096.pdf)

**ä½œè€…**: Ruitong Sun, Tianze Yang, Wei Niu, Jin Sun

**åˆ†ç±»**: cs.CV

**å‘å¸ƒæ—¥æœŸ**: 2025-12-16

**å¤‡æ³¨**: 29 pages

---

## ðŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºOUSACæ¡†æž¶ï¼Œé€šè¿‡ä¼˜åŒ–å¼•å¯¼è°ƒåº¦ä¸Žè‡ªé€‚åº”ç¼“å­˜åŠ é€Ÿæ‰©æ•£å˜æ¢å™¨ï¼Œè§£å†³CFGè®¡ç®—å¼€é”€å¤§çš„é—®é¢˜ã€‚**

ðŸŽ¯ **åŒ¹é…é¢†åŸŸ**: **è§†è§‰é‡Œç¨‹è®¡** **å¼ºåŒ–å­¦ä¹ **

**å…³é”®è¯**: `æ‰©æ•£æ¨¡åž‹åŠ é€Ÿ` `æ— åˆ†ç±»å™¨å¼•å¯¼ä¼˜åŒ–` `å˜æ¢å™¨ç¼“å­˜` `è¿›åŒ–ç®—æ³•è°ƒåº¦` `è‡ªé€‚åº”ç§©åˆ†é…` `å›¾åƒç”Ÿæˆæ•ˆçŽ‡` `è®¡ç®—èŠ‚çœ` `è´¨é‡æå‡`

## ðŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. æ ¸å¿ƒé—®é¢˜ï¼šCFGè™½æå‡æ‰©æ•£æ¨¡åž‹è´¨é‡ï¼Œä½†éœ€åŒå€è®¡ç®—ï¼ŒçŽ°æœ‰ç¼“å­˜æ–¹æ³•åœ¨å¯å˜å¼•å¯¼ä¸‹å¤±æ•ˆï¼Œå¯¼è‡´åŠ é€Ÿä¸Žè´¨é‡éš¾ä»¥å…¼é¡¾ã€‚
2. æ–¹æ³•è¦ç‚¹ï¼šæå‡ºä¸¤é˜¶æ®µæ¡†æž¶ï¼Œå…ˆä¼˜åŒ–å¼•å¯¼è°ƒåº¦å‡å°‘CFGæ­¥æ•°ï¼Œå†è‡ªé€‚åº”ç¼“å­˜è¡¥å¿åå·®ï¼Œå®žçŽ°é«˜æ•ˆåŠ é€Ÿã€‚
3. å®žéªŒæˆ–æ•ˆæžœï¼šåœ¨å¤šä¸ªæ¨¡åž‹ä¸Šæ˜¾è‘—èŠ‚çœè®¡ç®—å¹¶æå‡è´¨é‡ï¼Œå¦‚DiT-XL/2èŠ‚çœ53%è®¡ç®—ã€è´¨é‡æå‡15%ã€‚

## ðŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

æ‰©æ•£æ¨¡åž‹å·²æˆä¸ºé«˜è´¨é‡å›¾åƒç”Ÿæˆçš„ä¸»å¯¼èŒƒå¼ï¼Œä½†ç”±äºŽè¿­ä»£åŽ»å™ªè¿‡ç¨‹ï¼Œå…¶è®¡ç®—å¼€é”€ä»ç„¶å¾ˆå¤§ã€‚æ— åˆ†ç±»å™¨å¼•å¯¼ï¼ˆCFGï¼‰æ˜¾è‘—æå‡äº†ç”Ÿæˆè´¨é‡å’Œå¯æŽ§æ€§ï¼Œä½†éœ€è¦åœ¨æ¯ä¸ªæ—¶é—´æ­¥åŒæ—¶è¿›è¡Œæ¡ä»¶å‰å‘ä¼ æ’­å’Œæ— æ¡ä»¶å‰å‘ä¼ æ’­ï¼Œä½¿è®¡ç®—é‡åŠ å€ã€‚æœ¬æ–‡æå‡ºäº†OUSACï¼ˆä¼˜åŒ–å¼•å¯¼è°ƒåº¦ä¸Žè‡ªé€‚åº”ç¼“å­˜ï¼‰æ¡†æž¶ï¼Œé€šè¿‡ç³»ç»Ÿä¼˜åŒ–åŠ é€Ÿæ‰©æ•£å˜æ¢å™¨ï¼ˆDiTï¼‰ã€‚æˆ‘ä»¬çš„æ ¸å¿ƒæ´žå¯Ÿæ˜¯ï¼šå¯å˜çš„å¼•å¯¼å°ºåº¦å¯ä»¥å®žçŽ°ç¨€ç–è®¡ç®—â€”â€”åœ¨æŸäº›æ—¶é—´æ­¥è°ƒæ•´å¼•å¯¼å°ºåº¦å¯ä»¥è¡¥å¿åœ¨å…¶ä»–æ—¶é—´æ­¥è·³è¿‡CFGçš„æ“ä½œï¼Œä»Žè€Œåœ¨ä¿æŒè´¨é‡çš„åŒæ—¶å‡å°‘æ€»é‡‡æ ·æ­¥æ•°å’ŒCFGæ­¥æ•°ã€‚ç„¶è€Œï¼Œå¯å˜çš„å¼•å¯¼æ¨¡å¼ä¼šå¼•å…¥åŽ»å™ªåå·®ï¼Œç ´åæ ‡å‡†ç¼“å­˜æ–¹æ³•çš„æœ‰æ•ˆæ€§ï¼Œå› ä¸ºæ ‡å‡†æ–¹æ³•å‡è®¾CFGå°ºåº¦åœ¨æ­¥é—´æ’å®šã€‚æ­¤å¤–ï¼Œåœ¨åŠ¨æ€æ¡ä»¶ä¸‹ï¼Œä¸åŒçš„å˜æ¢å™¨å—å—åˆ°çš„å½±å“ç¨‹åº¦ä¸åŒã€‚æœ¬æ–‡åŸºäºŽè¿™äº›æ´žå¯Ÿå¼€å‘äº†ä¸€ç§ä¸¤é˜¶æ®µæ–¹æ³•ã€‚ç¬¬ä¸€é˜¶æ®µé‡‡ç”¨è¿›åŒ–ç®—æ³•è”åˆä¼˜åŒ–è·³è¿‡å“ªäº›æ—¶é—´æ­¥ä»¥åŠä½¿ç”¨ä»€ä¹ˆå¼•å¯¼å°ºåº¦ï¼Œæœ€å¤šå¯æ¶ˆé™¤82%çš„æ— æ¡ä»¶å‰å‘ä¼ æ’­ã€‚ç¬¬äºŒé˜¶æ®µå¼•å…¥è‡ªé€‚åº”ç§©åˆ†é…ï¼Œä¸ºæ¯ä¸ªå˜æ¢å™¨å—å®šåˆ¶æ ¡å‡†å·¥ä½œï¼Œåœ¨å¯å˜å¼•å¯¼ä¸‹ä¿æŒç¼“å­˜æœ‰æ•ˆæ€§ã€‚å®žéªŒè¡¨æ˜Žï¼ŒOUSACæ˜¾è‘—ä¼˜äºŽæœ€å…ˆè¿›çš„åŠ é€Ÿæ–¹æ³•ï¼šåœ¨DiT-XL/2ï¼ˆImageNet 512x512ï¼‰ä¸Šå®žçŽ°53%çš„è®¡ç®—èŠ‚çœå’Œ15%çš„è´¨é‡æå‡ï¼Œåœ¨PixArt-alphaï¼ˆMSCOCOï¼‰ä¸Šå®žçŽ°60%çš„èŠ‚çœå’Œ16.1%çš„æå‡ï¼Œåœ¨FLUXä¸Šå®žçŽ°5å€åŠ é€Ÿï¼ŒåŒæ—¶CLIPåˆ†æ•°è¶…è¿‡50æ­¥åŸºçº¿ã€‚

## ðŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šè®ºæ–‡æ—¨åœ¨è§£å†³æ‰©æ•£å˜æ¢å™¨ï¼ˆDiTï¼‰ä¸­æ— åˆ†ç±»å™¨å¼•å¯¼ï¼ˆCFGï¼‰å¸¦æ¥çš„é«˜è®¡ç®—å¼€é”€é—®é¢˜ã€‚çŽ°æœ‰æ–¹æ³•å¦‚æ ‡å‡†ç¼“å­˜å‡è®¾CFGå°ºåº¦æ’å®šï¼Œä½†åœ¨å¯å˜å¼•å¯¼æ¨¡å¼ä¸‹ï¼ŒåŽ»å™ªåå·®ä¼šç ´åç¼“å­˜æœ‰æ•ˆæ€§ï¼Œå¯¼è‡´åŠ é€Ÿä¸Žè´¨é‡éš¾ä»¥å¹³è¡¡ï¼Œæˆä¸ºå®žé™…éƒ¨ç½²çš„ç“¶é¢ˆã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šæ ¸å¿ƒæ€è·¯æ˜¯åˆ©ç”¨å¯å˜å¼•å¯¼å°ºåº¦å®žçŽ°ç¨€ç–è®¡ç®—ï¼Œé€šè¿‡åœ¨æŸäº›æ—¶é—´æ­¥è·³è¿‡CFGå¹¶ç”¨è°ƒæ•´çš„å°ºåº¦è¡¥å¿ï¼Œå‡å°‘è®¡ç®—é‡ã€‚åŒæ—¶ï¼Œé’ˆå¯¹åŠ¨æ€æ¡ä»¶å¼•å…¥è‡ªé€‚åº”æœºåˆ¶ï¼Œä¼˜åŒ–ç¼“å­˜ç­–ç•¥ä»¥ç»´æŒè´¨é‡ï¼Œä»Žè€Œç³»ç»Ÿæ€§åœ°åŠ é€ŸDiTæŽ¨ç†ã€‚

**æŠ€æœ¯æ¡†æž¶**ï¼šæ•´ä½“æ¡†æž¶åˆ†ä¸ºä¸¤é˜¶æ®µã€‚ç¬¬ä¸€é˜¶æ®µä½¿ç”¨è¿›åŒ–ç®—æ³•è”åˆä¼˜åŒ–æ—¶é—´æ­¥è·³è¿‡ç­–ç•¥å’Œå¼•å¯¼å°ºåº¦åˆ†é…ï¼Œæœ€å°åŒ–CFGæ­¥æ•°ï¼›ç¬¬äºŒé˜¶æ®µåŸºäºŽè‡ªé€‚åº”ç§©åˆ†é…ï¼Œä¸ºæ¯ä¸ªå˜æ¢å™¨å—åŠ¨æ€è°ƒæ•´æ ¡å‡†èµ„æºï¼Œç¡®ä¿ç¼“å­˜åœ¨ä¸åŒå¼•å¯¼æ¨¡å¼ä¸‹çš„æœ‰æ•ˆæ€§ã€‚ä¸¤é˜¶æ®µååŒå·¥ä½œï¼Œå®žçŽ°ç«¯åˆ°ç«¯åŠ é€Ÿã€‚

**å…³é”®åˆ›æ–°**ï¼šæœ€é‡è¦çš„åˆ›æ–°æ˜¯å¯å˜å¼•å¯¼è°ƒåº¦ä¸Žè‡ªé€‚åº”ç¼“å­˜çš„ç»“åˆã€‚ä¸ŽçŽ°æœ‰æ–¹æ³•ï¼ˆå¦‚å›ºå®šè°ƒåº¦æˆ–ç®€å•ç¼“å­˜ï¼‰ç›¸æ¯”ï¼Œæœ¬è´¨åŒºåˆ«åœ¨äºŽåŠ¨æ€ä¼˜åŒ–å¼•å¯¼æ¨¡å¼å¹¶é’ˆå¯¹å—çº§å·®å¼‚å®šåˆ¶ç¼“å­˜ï¼Œè§£å†³äº†åå·®ç´¯ç§¯é—®é¢˜ï¼Œå®žçŽ°äº†è®¡ç®—æ•ˆçŽ‡å’Œè´¨é‡çš„åŒé‡æå‡ã€‚

**å…³é”®è®¾è®¡**ï¼šå…³é”®è®¾è®¡åŒ…æ‹¬ï¼šè¿›åŒ–ç®—æ³•ç”¨äºŽä¼˜åŒ–è°ƒåº¦ï¼Œç›®æ ‡å‡½æ•°å¹³è¡¡è®¡ç®—èŠ‚çœå’Œè´¨é‡æŸå¤±ï¼›è‡ªé€‚åº”ç§©åˆ†é…åŸºäºŽå—æ•æ„Ÿåº¦åˆ†æžï¼ŒåŠ¨æ€åˆ†é…æ ¡å‡†ç§©ï¼›å®žéªŒè®¾ç½®æ¶µç›–DiT-XL/2ã€PixArt-alphaç­‰æ¨¡åž‹ï¼Œä½¿ç”¨CLIPåˆ†æ•°ç­‰æŒ‡æ ‡è¯„ä¼°ï¼Œå…·ä½“å‚æ•°å¦‚æœ€å¤šæ¶ˆé™¤82%æ— æ¡ä»¶å‰å‘ä¼ æ’­ã€‚

## ðŸ“Š å®žéªŒäº®ç‚¹

å®žéªŒäº®ç‚¹ï¼šOUSACåœ¨å¤šä¸ªåŸºå‡†ä¸Šæ˜¾è‘—ä¼˜äºŽçŽ°æœ‰åŠ é€Ÿæ–¹æ³•ã€‚å…·ä½“æ•°æ®åŒ…æ‹¬ï¼šåœ¨DiT-XL/2ï¼ˆImageNet 512x512ï¼‰ä¸Šå®žçŽ°53%è®¡ç®—èŠ‚çœå’Œ15%è´¨é‡æå‡ï¼›åœ¨PixArt-alphaï¼ˆMSCOCOï¼‰ä¸ŠèŠ‚çœ60%è®¡ç®—ã€æå‡16.1%è´¨é‡ï¼›åœ¨FLUXä¸Šè¾¾åˆ°5å€åŠ é€Ÿï¼ŒCLIPåˆ†æ•°è¶…è¿‡50æ­¥åŸºçº¿ã€‚è¿™äº›ç»“æžœè¯æ˜Žäº†å…¶é«˜æ•ˆæ€§å’Œæ³›åŒ–èƒ½åŠ›ã€‚

## ðŸŽ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶å¯åº”ç”¨äºŽéœ€è¦é«˜æ•ˆé«˜è´¨é‡å›¾åƒç”Ÿæˆçš„é¢†åŸŸï¼Œå¦‚å†…å®¹åˆ›ä½œã€æ¸¸æˆå¼€å‘ã€å¹¿å‘Šè®¾è®¡å’Œè™šæ‹ŸçŽ°å®žã€‚é€šè¿‡åŠ é€Ÿæ‰©æ•£å˜æ¢å™¨ï¼ŒOUSACèƒ½é™ä½Žè®¡ç®—æˆæœ¬ï¼Œä¿ƒè¿›å®žæ—¶æˆ–å¤§è§„æ¨¡éƒ¨ç½²ï¼Œæå‡AIç”Ÿæˆå†…å®¹çš„å®žç”¨æ€§å’Œå¯è®¿é—®æ€§ï¼Œå¯¹æŽ¨åŠ¨ç”Ÿæˆå¼AIçš„äº§ä¸šåŒ–å…·æœ‰é‡è¦ä»·å€¼ã€‚

## ðŸ“„ æ‘˜è¦ï¼ˆåŽŸæ–‡ï¼‰

> Diffusion models have emerged as the dominant paradigm for high-quality image generation, yet their computational expense remains substantial due to iterative denoising. Classifier-Free Guidance (CFG) significantly enhances generation quality and controllability but doubles the computation by requiring both conditional and unconditional forward passes at every timestep. We present OUSAC (Optimized gUidance Scheduling with Adaptive Caching), a framework that accelerates diffusion transformers (DiT) through systematic optimization. Our key insight is that variable guidance scales enable sparse computation: adjusting scales at certain timesteps can compensate for skipping CFG at others, enabling both fewer total sampling steps and fewer CFG steps while maintaining quality. However, variable guidance patterns introduce denoising deviations that undermine standard caching methods, which assume constant CFG scales across steps. Moreover, different transformer blocks are affected at different levels under dynamic conditions. This paper develops a two-stage approach leveraging these insights. Stage-1 employs evolutionary algorithms to jointly optimize which timesteps to skip and what guidance scale to use, eliminating up to 82% of unconditional passes. Stage-2 introduces adaptive rank allocation that tailors calibration efforts per transformer block, maintaining caching effectiveness under variable guidance. Experiments demonstrate that OUSAC significantly outperforms state-of-the-art acceleration methods, achieving 53% computational savings with 15% quality improvement on DiT-XL/2 (ImageNet 512x512), 60% savings with 16.1% improvement on PixArt-alpha (MSCOCO), and 5x speedup on FLUX while improving CLIP Score over the 50-step baseline.

