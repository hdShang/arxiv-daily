---
layout: default
title: "Smart-GRPO: Smartly Sampling Noise for Efficient RL of Flow-Matching Models"
---

# Smart-GRPO: Smartly Sampling Noise for Efficient RL of Flow-Matching Models

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2510.02654" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2510.02654v1</a>
  <a href="https://arxiv.org/pdf/2510.02654.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2510.02654v1" data-paper-url="__CURRENT_PAGE__" onclick="toggleFavorite(this, '2510.02654v1', 'Smart-GRPO: Smartly Sampling Noise for Efficient RL of Flow-Matching Models')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Benjamin Yu, Jackie Liu, Justin Cui

**åˆ†ç±»**: cs.CV

**å‘å¸ƒæ—¥æœŸ**: 2025-10-03

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**Smart-GRPOï¼šä¼˜åŒ–å™ªå£°é‡‡æ ·ï¼Œæå‡Flow-Matchingæ¨¡å‹å¼ºåŒ–å­¦ä¹ æ•ˆç‡**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±äºŒï¼šRLç®—æ³•ä¸æ¶æ„ (RL & Architecture)**

**å…³é”®è¯**: `Flow-Matchingæ¨¡å‹` `å¼ºåŒ–å­¦ä¹ ` `å™ªå£°ä¼˜åŒ–` `å›¾åƒç”Ÿæˆ` `æ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆ`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. Flow-Matchingæ¨¡å‹çš„ç¡®å®šæ€§ä½¿å…¶éš¾ä»¥ç›´æ¥åº”ç”¨å¼ºåŒ–å­¦ä¹ è¿›è¡Œä¼˜åŒ–ï¼Œé™åˆ¶äº†å›¾åƒè´¨é‡å’Œäººç±»å¯¹é½çš„æå‡ã€‚
2. Smart-GRPOé€šè¿‡è¿­ä»£æœç´¢å’Œä¼˜åŒ–å™ªå£°æ‰°åŠ¨ï¼Œå¼•å¯¼å™ªå£°åˆ†å¸ƒå‘æ›´é«˜å¥–åŠ±åŒºåŸŸç§»åŠ¨ï¼Œä»è€Œå®ç°æ›´æœ‰æ•ˆçš„å¼ºåŒ–å­¦ä¹ ã€‚
3. å®éªŒç»“æœè¡¨æ˜ï¼ŒSmart-GRPOåœ¨å¥–åŠ±ä¼˜åŒ–å’Œè§†è§‰è´¨é‡æ–¹é¢å‡ä¼˜äºç°æœ‰æ–¹æ³•ï¼Œä¸ºFlow-Matchingæ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ æä¾›äº†æ–°æ€è·¯ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

è¿‘å¹´æ¥ï¼ŒFlow-Matchingæ¨¡å‹åœ¨é«˜è´¨é‡æ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆæ–¹é¢å–å¾—äº†æ˜¾è‘—è¿›å±•ã€‚ç„¶è€Œï¼ŒFlow-Matchingæ¨¡å‹çš„ç¡®å®šæ€§ç‰¹æ€§ä½¿å…¶ä¸å¤ªé€‚åˆå¼ºåŒ–å­¦ä¹ ï¼Œè€Œå¼ºåŒ–å­¦ä¹ æ˜¯æé«˜å›¾åƒè´¨é‡å’Œäººç±»å¯¹é½çš„å…³é”®å·¥å…·ã€‚å…ˆå‰çš„å·¥ä½œé€šè¿‡ç”¨éšæœºå™ªå£°æ‰°åŠ¨æ½œåœ¨å˜é‡æ¥å¼•å…¥éšæœºæ€§ï¼Œä½†è¿™ç§æ‰°åŠ¨æ•ˆç‡ä½ä¸‹ä¸”ä¸ç¨³å®šã€‚æˆ‘ä»¬æå‡ºäº†Smart-GRPOï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªä¼˜åŒ–Flow-Matchingæ¨¡å‹ä¸­å¼ºåŒ–å­¦ä¹ å™ªå£°æ‰°åŠ¨çš„æ–¹æ³•ã€‚Smart-GRPOé‡‡ç”¨è¿­ä»£æœç´¢ç­–ç•¥ï¼Œè§£ç å€™é€‰æ‰°åŠ¨ï¼Œä½¿ç”¨å¥–åŠ±å‡½æ•°è¯„ä¼°å®ƒä»¬ï¼Œå¹¶å°†å™ªå£°åˆ†å¸ƒç»†åŒ–åˆ°æ›´é«˜å¥–åŠ±çš„åŒºåŸŸã€‚å®éªŒè¡¨æ˜ï¼Œä¸åŸºçº¿æ–¹æ³•ç›¸æ¯”ï¼ŒSmart-GRPOæé«˜äº†å¥–åŠ±ä¼˜åŒ–å’Œè§†è§‰è´¨é‡ã€‚æˆ‘ä»¬çš„ç»“æœè¡¨æ˜ï¼Œåœ¨Flow-Matchingæ¡†æ¶ä¸­ï¼Œå¼ºåŒ–å­¦ä¹ æ˜¯ä¸€æ¡å¯è¡Œçš„é€”å¾„ï¼Œå¼¥åˆäº†é«˜æ•ˆè®­ç»ƒå’Œäººç±»å¯¹é½ç”Ÿæˆä¹‹é—´çš„å·®è·ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šFlow-Matchingæ¨¡å‹åœ¨å›¾åƒç”Ÿæˆé¢†åŸŸè¡¨ç°å‡ºè‰²ï¼Œä½†å…¶ç¡®å®šæ€§ç‰¹æ€§ä½¿å…¶éš¾ä»¥ç›´æ¥åº”ç”¨å¼ºåŒ–å­¦ä¹ è¿›è¡Œä¼˜åŒ–ï¼Œè€Œå¼ºåŒ–å­¦ä¹ å¯¹äºæå‡å›¾åƒè´¨é‡å’Œä¸äººç±»åå¥½å¯¹é½è‡³å…³é‡è¦ã€‚ç°æœ‰æ–¹æ³•é€šè¿‡æ·»åŠ éšæœºå™ªå£°æ¥å¼•å…¥éšæœºæ€§ï¼Œä½†è¿™ç§æ–¹å¼æ•ˆç‡ä½ä¸‹ï¼Œå®¹æ˜“å¯¼è‡´è®­ç»ƒä¸ç¨³å®šï¼Œéš¾ä»¥æœ‰æ•ˆæ¢ç´¢é«˜å¥–åŠ±åŒºåŸŸã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šSmart-GRPOçš„æ ¸å¿ƒæ€è·¯æ˜¯ä¼˜åŒ–å™ªå£°çš„é‡‡æ ·ç­–ç•¥ï¼Œä½¿å…¶èƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°æ¢ç´¢é«˜å¥–åŠ±åŒºåŸŸã€‚é€šè¿‡å­¦ä¹ ä¸€ä¸ªå™ªå£°åˆ†å¸ƒï¼Œè¯¥åˆ†å¸ƒèƒ½å¤Ÿç”Ÿæˆæ›´æœ‰åˆ©äºå¼ºåŒ–å­¦ä¹ çš„æ‰°åŠ¨ï¼Œä»è€Œæé«˜è®­ç»ƒæ•ˆç‡å’Œæœ€ç»ˆæ€§èƒ½ã€‚è¿™ç§æ–¹æ³•æ—¨åœ¨å…‹æœéšæœºå™ªå£°æ‰°åŠ¨çš„ä½æ•ˆæ€§å’Œä¸ç¨³å®šæ€§ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šSmart-GRPOé‡‡ç”¨è¿­ä»£æœç´¢ç­–ç•¥ã€‚é¦–å…ˆï¼Œä»å½“å‰çš„å™ªå£°åˆ†å¸ƒä¸­é‡‡æ ·å€™é€‰æ‰°åŠ¨ã€‚ç„¶åï¼Œå°†è¿™äº›æ‰°åŠ¨åº”ç”¨äºFlow-Matchingæ¨¡å‹ï¼Œç”Ÿæˆç›¸åº”çš„å›¾åƒã€‚æ¥ä¸‹æ¥ï¼Œä½¿ç”¨å¥–åŠ±å‡½æ•°è¯„ä¼°è¿™äº›å›¾åƒçš„è´¨é‡ã€‚æœ€åï¼Œæ ¹æ®å¥–åŠ±å€¼æ›´æ–°å™ªå£°åˆ†å¸ƒï¼Œä½¿å…¶å‘æ›´é«˜å¥–åŠ±çš„åŒºåŸŸç§»åŠ¨ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸æ–­è¿­ä»£ï¼Œç›´åˆ°å™ªå£°åˆ†å¸ƒæ”¶æ•›åˆ°æœ€ä¼˜çŠ¶æ€ã€‚

**å…³é”®åˆ›æ–°**ï¼šSmart-GRPOçš„å…³é”®åˆ›æ–°åœ¨äºå®ƒä¸æ˜¯ç®€å•åœ°æ·»åŠ éšæœºå™ªå£°ï¼Œè€Œæ˜¯å­¦ä¹ ä¸€ä¸ªå™ªå£°åˆ†å¸ƒï¼Œå¹¶ä¼˜åŒ–è¿™ä¸ªåˆ†å¸ƒä»¥æœ€å¤§åŒ–å¼ºåŒ–å­¦ä¹ çš„å¥–åŠ±ã€‚è¿™ç§æ–¹æ³•èƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°æ¢ç´¢çŠ¶æ€ç©ºé—´ï¼Œå¹¶æ‰¾åˆ°æ›´æœ‰åˆ©äºæé«˜å›¾åƒè´¨é‡çš„æ‰°åŠ¨ã€‚ä¸ç°æœ‰æ–¹æ³•ç›¸æ¯”ï¼ŒSmart-GRPOèƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°åˆ©ç”¨å¼ºåŒ–å­¦ä¹ çš„åé¦ˆä¿¡å·ã€‚

**å…³é”®è®¾è®¡**ï¼šSmart-GRPOçš„å…³é”®è®¾è®¡åŒ…æ‹¬ï¼š1) ä½¿ç”¨å‚æ•°åŒ–çš„å™ªå£°åˆ†å¸ƒï¼ˆä¾‹å¦‚é«˜æ–¯åˆ†å¸ƒï¼‰æ¥è¡¨ç¤ºå™ªå£°ï¼›2) ä½¿ç”¨å¥–åŠ±å‡½æ•°æ¥è¯„ä¼°ç”Ÿæˆå›¾åƒçš„è´¨é‡ï¼›3) ä½¿ç”¨ä¼˜åŒ–ç®—æ³•ï¼ˆä¾‹å¦‚æ¢¯åº¦ä¸‹é™ï¼‰æ¥æ›´æ–°å™ªå£°åˆ†å¸ƒçš„å‚æ•°ã€‚å¥–åŠ±å‡½æ•°çš„è®¾è®¡è‡³å…³é‡è¦ï¼Œéœ€è¦èƒ½å¤Ÿå‡†ç¡®åæ˜ å›¾åƒçš„è´¨é‡å’Œä¸äººç±»åå¥½çš„å¯¹é½ç¨‹åº¦ã€‚å™ªå£°åˆ†å¸ƒçš„å‚æ•°åŒ–å½¢å¼å’Œä¼˜åŒ–ç®—æ³•çš„é€‰æ‹©ä¹Ÿä¼šå½±å“æœ€ç»ˆçš„æ€§èƒ½ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

å®éªŒç»“æœè¡¨æ˜ï¼ŒSmart-GRPOåœ¨å¥–åŠ±ä¼˜åŒ–å’Œè§†è§‰è´¨é‡æ–¹é¢å‡ä¼˜äºåŸºçº¿æ–¹æ³•ã€‚å…·ä½“æ¥è¯´ï¼ŒSmart-GRPOèƒ½å¤Ÿæ›´å¿«åœ°æ”¶æ•›åˆ°æ›´é«˜çš„å¥–åŠ±å€¼ï¼Œå¹¶ä¸”ç”Ÿæˆçš„å›¾åƒå…·æœ‰æ›´é«˜çš„è§†è§‰è´¨é‡ã€‚ä¸éšæœºå™ªå£°æ‰°åŠ¨ç›¸æ¯”ï¼ŒSmart-GRPOèƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°æ¢ç´¢çŠ¶æ€ç©ºé—´ï¼Œå¹¶æ‰¾åˆ°æ›´æœ‰åˆ©äºæé«˜å›¾åƒè´¨é‡çš„æ‰°åŠ¨ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

Smart-GRPOå…·æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯ï¼Œå¯ç”¨äºæ”¹è¿›å„ç§åŸºäºFlow-Matchingæ¨¡å‹çš„å›¾åƒç”Ÿæˆä»»åŠ¡ï¼Œä¾‹å¦‚æ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆã€å›¾åƒä¿®å¤å’Œå›¾åƒç¼–è¾‘ã€‚é€šè¿‡ä¼˜åŒ–å™ªå£°é‡‡æ ·ç­–ç•¥ï¼Œå¯ä»¥æé«˜ç”Ÿæˆå›¾åƒçš„è´¨é‡å’Œä¸äººç±»åå¥½çš„å¯¹é½ç¨‹åº¦ã€‚è¯¥æ–¹æ³•è¿˜å¯ä»¥åº”ç”¨äºå…¶ä»–ç”Ÿæˆæ¨¡å‹ï¼Œä¸ºå¼ºåŒ–å­¦ä¹ åœ¨ç”Ÿæˆæ¨¡å‹ä¸­çš„åº”ç”¨å¼€è¾Ÿäº†æ–°çš„é€”å¾„ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Recent advancements in flow-matching have enabled high-quality text-to-image generation. However, the deterministic nature of flow-matching models makes them poorly suited for reinforcement learning, a key tool for improving image quality and human alignment. Prior work has introduced stochasticity by perturbing latents with random noise, but such perturbations are inefficient and unstable. We propose Smart-GRPO, the first method to optimize noise perturbations for reinforcement learning in flow-matching models. Smart-GRPO employs an iterative search strategy that decodes candidate perturbations, evaluates them with a reward function, and refines the noise distribution toward higher-reward regions. Experiments demonstrate that Smart-GRPO improves both reward optimization and visual quality compared to baseline methods. Our results suggest a practical path toward reinforcement learning in flow-matching frameworks, bridging the gap between efficient training and human-aligned generation.

