---
layout: default
title: Intention Chain-of-Thought Prompting with Dynamic Routing for Code Generation
---

# Intention Chain-of-Thought Prompting with Dynamic Routing for Code Generation

<div class="paper-toolbar">
  <a href="https://arxiv.org/abs/2512.14048" class="toolbar-btn" target="_blank">ğŸ“„ arXiv: 2512.14048v1</a>
  <a href="https://arxiv.org/pdf/2512.14048.pdf" class="toolbar-btn" target="_blank">ğŸ“¥ PDF</a>
  <button class="toolbar-btn favorite-btn" data-arxiv-id="2512.14048v1" onclick="toggleFavorite(this, '2512.14048v1', 'Intention Chain-of-Thought Prompting with Dynamic Routing for Code Generation')" title="æ·»åŠ åˆ°æ”¶è—å¤¹">â˜† æ”¶è—</button>
  <button class="toolbar-btn" onclick="copyLinkToClipboard(this)">ğŸ”— åˆ†äº«</button>
</div>


**ä½œè€…**: Shen Li, Li Huang, Shaoxiong Zhan, Weifeng Sun, Tao Yin, Zhongxin Liu, Meng Yan

**åˆ†ç±»**: cs.AI

**å‘å¸ƒæ—¥æœŸ**: 2025-12-16

**å¤‡æ³¨**: Accepted at AAAI-2026

---

## ğŸ’¡ ä¸€å¥è¯è¦ç‚¹

**æå‡ºRoutingGenæ¡†æ¶ï¼Œé€šè¿‡åŠ¨æ€è·¯ç”±å’Œæ„å›¾é“¾å¼æ€è€ƒæå‡ä»£ç ç”Ÿæˆæ•ˆæœã€‚**

ğŸ¯ **åŒ¹é…é¢†åŸŸ**: **æ”¯æŸ±ä¹ï¼šå…·èº«å¤§æ¨¡å‹ (Embodied Foundation Models)**

**å…³é”®è¯**: `ä»£ç ç”Ÿæˆ` `å¤§å‹è¯­è¨€æ¨¡å‹` `æ€ç»´é“¾` `æç¤ºå­¦ä¹ ` `åŠ¨æ€è·¯ç”±` `æ„å›¾å»ºæ¨¡` `ç®—æ³•è®¾è®¡`

## ğŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. ç°æœ‰CoTæ–¹æ³•åœ¨ä»£ç ç”Ÿæˆä¸­å­˜åœ¨è¿‡åº¦æ€è€ƒå’Œç¼ºä¹æ„å›¾æŠ½è±¡çš„é—®é¢˜ï¼Œå¯¼è‡´æ•ˆç‡ä½ä¸‹ä¸”å¿½ç•¥å…¨å±€ç›®æ ‡ã€‚
2. RoutingGenæ¡†æ¶é€šè¿‡éš¾åº¦æ„ŸçŸ¥è·¯ç”±åŠ¨æ€è°ƒæ•´æç¤ºç­–ç•¥ï¼Œå¯¹ç®€å•ä»»åŠ¡é‡‡ç”¨å°‘æ ·æœ¬æç¤ºï¼Œå¤æ‚ä»»åŠ¡é‡‡ç”¨æ„å›¾é“¾å¼æ€è€ƒ(ICoT)ã€‚
3. å®éªŒè¡¨æ˜ï¼ŒRoutingGenåœ¨ä»£ç ç”Ÿæˆä»»åŠ¡ä¸­å–å¾—äº†SOTAæ€§èƒ½ï¼Œå¹¶æ˜¾è‘—é™ä½äº†tokenä½¿ç”¨é‡ï¼ŒICoTåœ¨å¤æ‚åŸºå‡†ä¸Šä¼˜äºç°æœ‰æ–¹æ³•ã€‚

## ğŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

å¤§å‹è¯­è¨€æ¨¡å‹(LLMs)å±•ç°å‡ºå¼ºå¤§çš„ç”Ÿæˆèƒ½åŠ›ï¼Œå¹¶åœ¨ä»£ç ç”Ÿæˆæ–¹é¢æ˜¾ç¤ºå‡ºå·¨å¤§æ½œåŠ›ã€‚ç°æœ‰çš„æ€ç»´é“¾(CoT)æç¤ºæ–¹æ³•é€šè¿‡å¼•å‡ºä¸­é—´æ­¥éª¤æ¥å¢å¼ºæ¨¡å‹æ¨ç†ï¼Œä½†å­˜åœ¨ä¸¤ä¸ªä¸»è¦é™åˆ¶ï¼šé¦–å…ˆï¼Œå®ƒä»¬çš„ç»Ÿä¸€åº”ç”¨å®¹æ˜“å¯¼è‡´ç®€å•ä»»åŠ¡çš„è¿‡åº¦æ€è€ƒã€‚å…¶æ¬¡ï¼Œå®ƒä»¬åœ¨ä»£ç ç”Ÿæˆä¸­ç¼ºä¹æ„å›¾æŠ½è±¡ï¼Œä¾‹å¦‚æ˜¾å¼åœ°å»ºæ¨¡æ ¸å¿ƒç®—æ³•è®¾è®¡å’Œæ•ˆç‡ï¼Œå¯¼è‡´æ¨¡å‹ä¸“æ³¨äºè¡¨é¢ç»“æ„è€Œå¿½ç•¥äº†å…¨å±€é—®é¢˜ç›®æ ‡ã€‚å—è®¤çŸ¥ç»æµåŸåˆ™çš„å¯å‘ï¼Œå³ä»…åœ¨å¿…è¦æ—¶æ‰è¿›è¡Œç»“æ„åŒ–æ¨ç†ä»¥èŠ‚çœè®¤çŸ¥èµ„æºï¼Œæˆ‘ä»¬æå‡ºRoutingGenï¼Œä¸€ç§æ–°é¢–çš„éš¾åº¦æ„ŸçŸ¥è·¯ç”±æ¡†æ¶ï¼Œå¯ä»¥åŠ¨æ€åœ°è°ƒæ•´ä»£ç ç”Ÿæˆçš„æç¤ºç­–ç•¥ã€‚å¯¹äºç®€å•çš„ä»»åŠ¡ï¼Œå®ƒé‡‡ç”¨å°‘æ ·æœ¬æç¤ºï¼›å¯¹äºæ›´å¤æ‚çš„ä»»åŠ¡ï¼Œå®ƒè°ƒç”¨ä¸€ç§ç»“æ„åŒ–çš„æ¨ç†ç­–ç•¥ï¼Œç§°ä¸ºæ„å›¾é“¾å¼æ€è€ƒ(ICoT)ï¼Œæˆ‘ä»¬å¼•å…¥è¯¥ç­–ç•¥æ¥æŒ‡å¯¼æ¨¡å‹æ•è·ä»»åŠ¡æ„å›¾ï¼Œä¾‹å¦‚æ ¸å¿ƒç®—æ³•é€»è¾‘åŠå…¶æ—¶é—´å¤æ‚åº¦ã€‚åœ¨ä¸‰ä¸ªæ¨¡å‹å’Œå…­ä¸ªæ ‡å‡†ä»£ç ç”ŸæˆåŸºå‡†ä¸Šçš„å®éªŒè¡¨æ˜ï¼ŒRoutingGenåœ¨å¤§å¤šæ•°è®¾ç½®ä¸­å®ç°äº†æœ€å…ˆè¿›çš„æ€§èƒ½ï¼ŒåŒæ—¶åœ¨æ‰€æœ‰è®¾ç½®ä¸­å¹³å‡å‡å°‘äº†46.37%çš„æ€»tokenä½¿ç”¨é‡ã€‚æ­¤å¤–ï¼ŒICoTåœ¨å…·æœ‰æŒ‘æˆ˜æ€§çš„åŸºå‡†æµ‹è¯•ä¸­ä¼˜äºå…­ä¸ªç°æœ‰çš„æç¤ºåŸºçº¿ã€‚

## ğŸ”¬ æ–¹æ³•è¯¦è§£

**é—®é¢˜å®šä¹‰**ï¼šè®ºæ–‡æ—¨åœ¨è§£å†³å¤§å‹è¯­è¨€æ¨¡å‹åœ¨ä»£ç ç”Ÿæˆä»»åŠ¡ä¸­ï¼Œç”±äºç¼ºä¹å¯¹ä»»åŠ¡æ„å›¾çš„æŠ½è±¡å’Œè¿‡åº¦ä¾èµ–ç»Ÿä¸€çš„æ€ç»´é“¾æç¤ºç­–ç•¥è€Œå¯¼è‡´çš„æ•ˆç‡ä½ä¸‹å’Œæ€§èƒ½ç“¶é¢ˆé—®é¢˜ã€‚ç°æœ‰æ–¹æ³•è¦ä¹ˆå¯¹æ‰€æœ‰ä»»åŠ¡éƒ½é‡‡ç”¨å¤æ‚çš„æ¨ç†è¿‡ç¨‹ï¼Œå¯¼è‡´ç®€å•ä»»åŠ¡çš„è¿‡åº¦è®¡ç®—ï¼›è¦ä¹ˆå¿½ç•¥ä»£ç èƒŒåçš„æ ¸å¿ƒç®—æ³•é€»è¾‘å’Œæ•ˆç‡ï¼Œä½¿å¾—ç”Ÿæˆçš„ä»£ç è´¨é‡ä¸é«˜ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼šè®ºæ–‡çš„æ ¸å¿ƒæ€è·¯æ˜¯æ ¹æ®ä»»åŠ¡çš„éš¾åº¦åŠ¨æ€åœ°é€‰æ‹©åˆé€‚çš„æç¤ºç­–ç•¥ã€‚å¯¹äºç®€å•çš„ä»»åŠ¡ï¼Œé‡‡ç”¨è½»é‡çº§çš„å°‘æ ·æœ¬æç¤ºï¼Œé¿å…è¿‡åº¦æ€è€ƒï¼›å¯¹äºå¤æ‚çš„ä»»åŠ¡ï¼Œåˆ™é‡‡ç”¨ä¸€ç§ç»“æ„åŒ–çš„æ¨ç†ç­–ç•¥ï¼Œå³æ„å›¾é“¾å¼æ€è€ƒ(ICoT)ï¼Œå¼•å¯¼æ¨¡å‹æ˜¾å¼åœ°å»ºæ¨¡ä»»åŠ¡çš„æ„å›¾ï¼ŒåŒ…æ‹¬æ ¸å¿ƒç®—æ³•é€»è¾‘å’Œæ—¶é—´å¤æ‚åº¦ç­‰å…³é”®å› ç´ ã€‚è¿™ç§éš¾åº¦æ„ŸçŸ¥çš„è·¯ç”±æœºåˆ¶æ—¨åœ¨åœ¨æ€§èƒ½å’Œæ•ˆç‡ä¹‹é—´å–å¾—å¹³è¡¡ã€‚

**æŠ€æœ¯æ¡†æ¶**ï¼šRoutingGenæ¡†æ¶åŒ…å«ä¸¤ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†ï¼šéš¾åº¦æ„ŸçŸ¥è·¯ç”±æ¨¡å—å’Œæ„å›¾é“¾å¼æ€è€ƒ(ICoT)æ¨¡å—ã€‚éš¾åº¦æ„ŸçŸ¥è·¯ç”±æ¨¡å—è´Ÿè´£è¯„ä¼°è¾“å…¥ä»»åŠ¡çš„éš¾åº¦ï¼Œå¹¶æ ¹æ®éš¾åº¦é€‰æ‹©åˆé€‚çš„æç¤ºç­–ç•¥ã€‚å¦‚æœä»»åŠ¡éš¾åº¦è¾ƒä½ï¼Œåˆ™é‡‡ç”¨å°‘æ ·æœ¬æç¤ºï¼›å¦‚æœä»»åŠ¡éš¾åº¦è¾ƒé«˜ï¼Œåˆ™æ¿€æ´»ICoTæ¨¡å—ã€‚ICoTæ¨¡å—åˆ™é€šè¿‡ä¸€ç³»åˆ—ç»“æ„åŒ–çš„æ­¥éª¤ï¼Œå¼•å¯¼æ¨¡å‹é€æ­¥æ¨å¯¼å‡ºä»£ç çš„å®ç°é€»è¾‘ï¼ŒåŒ…æ‹¬æ˜ç¡®ä»»åŠ¡ç›®æ ‡ã€è®¾è®¡æ ¸å¿ƒç®—æ³•ã€è€ƒè™‘æ—¶é—´å¤æ‚åº¦ç­‰ã€‚

**å…³é”®åˆ›æ–°**ï¼šè®ºæ–‡çš„å…³é”®åˆ›æ–°åœ¨äºæå‡ºäº†éš¾åº¦æ„ŸçŸ¥çš„åŠ¨æ€è·¯ç”±æœºåˆ¶å’Œæ„å›¾é“¾å¼æ€è€ƒ(ICoT)æ–¹æ³•ã€‚åŠ¨æ€è·¯ç”±æœºåˆ¶èƒ½å¤Ÿæ ¹æ®ä»»åŠ¡çš„éš¾åº¦è‡ªé€‚åº”åœ°é€‰æ‹©åˆé€‚çš„æç¤ºç­–ç•¥ï¼Œé¿å…äº†ä¼ ç»Ÿæ–¹æ³•ä¸­ä¸€åˆ€åˆ‡çš„ç­–ç•¥å¸¦æ¥çš„é—®é¢˜ã€‚ICoTæ–¹æ³•åˆ™é€šè¿‡æ˜¾å¼åœ°å»ºæ¨¡ä»»åŠ¡æ„å›¾ï¼Œå¼•å¯¼æ¨¡å‹ç”Ÿæˆæ›´é«˜æ•ˆã€æ›´ç¬¦åˆé—®é¢˜è¦æ±‚çš„ä»£ç ã€‚

**å…³é”®è®¾è®¡**ï¼šéš¾åº¦æ„ŸçŸ¥è·¯ç”±æ¨¡å—å¯ä»¥ä½¿ç”¨ä¸åŒçš„éš¾åº¦è¯„ä¼°æŒ‡æ ‡ï¼Œä¾‹å¦‚åŸºäºä»»åŠ¡æè¿°çš„å¤æ‚åº¦å’Œæ¨¡å‹é¢„æµ‹çš„ç½®ä¿¡åº¦ç­‰ã€‚ICoTæ¨¡å—çš„å…³é”®åœ¨äºè®¾è®¡åˆé€‚çš„æç¤ºæ¨¡æ¿ï¼Œå¼•å¯¼æ¨¡å‹é€æ­¥æ€è€ƒä»»åŠ¡æ„å›¾çš„å„ä¸ªæ–¹é¢ã€‚å…·ä½“çš„æç¤ºæ¨¡æ¿å¯ä»¥åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š1) æ˜ç¡®ä»»åŠ¡ç›®æ ‡ï¼›2) è®¾è®¡æ ¸å¿ƒç®—æ³•ï¼›3) è€ƒè™‘æ—¶é—´å¤æ‚åº¦ï¼›4) ç¼–å†™ä»£ç å®ç°ï¼›5) éªŒè¯ä»£ç æ­£ç¡®æ€§ã€‚è¿™äº›æ­¥éª¤å¯ä»¥æ ¹æ®å…·ä½“çš„ä»»åŠ¡è¿›è¡Œè°ƒæ•´å’Œä¼˜åŒ–ã€‚

## ğŸ“Š å®éªŒäº®ç‚¹

å®éªŒç»“æœè¡¨æ˜ï¼ŒRoutingGenåœ¨å…­ä¸ªæ ‡å‡†ä»£ç ç”ŸæˆåŸºå‡†æµ‹è¯•ä¸­å–å¾—äº†state-of-the-artçš„æ€§èƒ½ï¼Œå¹¶ä¸”å¹³å‡é™ä½äº†46.37%çš„tokenä½¿ç”¨é‡ã€‚åœ¨å…·æœ‰æŒ‘æˆ˜æ€§çš„åŸºå‡†æµ‹è¯•ä¸­ï¼ŒICoTæ–¹æ³•ä¼˜äºå…­ä¸ªç°æœ‰çš„æç¤ºåŸºçº¿ï¼Œè¯æ˜äº†å…¶åœ¨å¤æ‚ä»£ç ç”Ÿæˆä»»åŠ¡ä¸­çš„æœ‰æ•ˆæ€§ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶æˆæœå¯åº”ç”¨äºè‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆã€è½¯ä»¶å¼€å‘è¾…åŠ©å·¥å…·ã€æ™ºèƒ½ç¼–ç¨‹æ•™è‚²ç­‰é¢†åŸŸã€‚é€šè¿‡æé«˜ä»£ç ç”Ÿæˆæ•ˆç‡å’Œè´¨é‡ï¼Œå¯ä»¥é™ä½è½¯ä»¶å¼€å‘æˆæœ¬ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚æ­¤å¤–ï¼Œè¯¥æ–¹æ³•è¿˜å¯ä»¥å¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£é—®é¢˜æœ¬è´¨ï¼Œè®¾è®¡å‡ºæ›´é«˜æ•ˆçš„ç®—æ³•ã€‚

## ğŸ“„ æ‘˜è¦ï¼ˆåŸæ–‡ï¼‰

> Large language models (LLMs) exhibit strong generative capabilities and have shown great potential in code generation. Existing chain-of-thought (CoT) prompting methods enhance model reasoning by eliciting intermediate steps, but suffer from two major limitations: First, their uniform application tends to induce overthinking on simple tasks. Second, they lack intention abstraction in code generation, such as explicitly modeling core algorithmic design and efficiency, leading models to focus on surface-level structures while neglecting the global problem objective. Inspired by the cognitive economy principle of engaging structured reasoning only when necessary to conserve cognitive resources, we propose RoutingGen, a novel difficulty-aware routing framework that dynamically adapts prompting strategies for code generation. For simple tasks, it adopts few-shot prompting; for more complex ones, it invokes a structured reasoning strategy, termed Intention Chain-of-Thought (ICoT), which we introduce to guide the model in capturing task intention, such as the core algorithmic logic and its time complexity. Experiments across three models and six standard code generation benchmarks show that RoutingGen achieves state-of-the-art performance in most settings, while reducing total token usage by 46.37% on average across settings. Furthermore, ICoT outperforms six existing prompting baselines on challenging benchmarks.

