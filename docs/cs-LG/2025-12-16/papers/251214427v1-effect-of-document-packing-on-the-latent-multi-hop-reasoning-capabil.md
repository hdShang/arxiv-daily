---
layout: default
title: Effect of Document Packing on the Latent Multi-Hop Reasoning Capabilities of Large Language Models
---

# Effect of Document Packing on the Latent Multi-Hop Reasoning Capabilities of Large Language Models

**arXiv**: [2512.14427v1](https://arxiv.org/abs/2512.14427) | [PDF](https://arxiv.org/pdf/2512.14427.pdf)

**ä½œè€…**: Gabriele Prato, Shagun Sodhani, Alessandro Sordoni, Sarath Chandar

**åˆ†ç±»**: cs.CL, cs.AI, cs.LG

**å‘å¸ƒæ—¥æœŸ**: 2025-12-16

---

## ðŸ’¡ ä¸€å¥è¯è¦ç‚¹

**ç ”ç©¶æ–‡æ¡£æ‰“åŒ…ç­–ç•¥å¯¹å¤§åž‹è¯­è¨€æ¨¡åž‹æ½œåœ¨å¤šè·³æŽ¨ç†èƒ½åŠ›çš„å½±å“ï¼Œä¼˜åŒ–æ¨¡åž‹è®­ç»ƒæ•ˆçŽ‡ä¸Žæ€§èƒ½**

ðŸŽ¯ **åŒ¹é…é¢†åŸŸ**: **è§†è§‰é‡Œç¨‹è®¡** **å¼ºåŒ–å­¦ä¹ **

**å…³é”®è¯**: `æ–‡æ¡£æ‰“åŒ…ç­–ç•¥` `å¤šè·³æŽ¨ç†` `å¤§åž‹è¯­è¨€æ¨¡åž‹è®­ç»ƒ` `è®¡ç®—æ•ˆçŽ‡ä¼˜åŒ–` `æ¶ˆèžç ”ç©¶` `æ¨¡åž‹æ€§èƒ½åˆ†æž` `è®­ç»ƒåŠ¨æ€`

## ðŸ“‹ æ ¸å¿ƒè¦ç‚¹

1. æ ¸å¿ƒé—®é¢˜ï¼šçŽ°æœ‰LLMè®­ç»ƒä¸­å¹¿æ³›é‡‡ç”¨æ–‡æ¡£æ‰“åŒ…ä»¥æå‡è®¡ç®—æ•ˆçŽ‡ï¼Œä½†å…¶å¯¹æ¨¡åž‹æ½œåœ¨å¤šè·³æŽ¨ç†èƒ½åŠ›çš„å½±å“æœºåˆ¶å°šä¸æ˜Žç¡®ï¼Œç¼ºä¹ç³»ç»Ÿç ”ç©¶ã€‚
2. æ–¹æ³•è¦ç‚¹ï¼šé€šè¿‡å¯¹æ¯”ä¸åŒæ–‡æ¡£æ‰“åŒ…ç­–ç•¥ï¼Œåˆ†æžå…¶å¯¹LLMså¤šè·³æŽ¨ç†èƒ½åŠ›çš„å½±å“ï¼Œå¹¶è®¾è®¡æ¶ˆèžå®žéªŒæŽ¢ç©¶å…³é”®å› ç´ ã€‚
3. å®žéªŒæˆ–æ•ˆæžœï¼šå‘çŽ°æ‰“åŒ…ç­–ç•¥èƒ½æå‡æ¨¡åž‹æ€§èƒ½ï¼Œä½†éœ€æ›´å¤šè®¡ç®—èµ„æºï¼›æ¶ˆèžç ”ç©¶æ­ç¤ºäº†æ‰“åŒ…ä¼˜åŠ¿çš„é©±åŠ¨å› ç´ ã€‚

## ðŸ“ æ‘˜è¦ï¼ˆä¸­æ–‡ï¼‰

è®­ç»ƒå¤§åž‹è¯­è¨€æ¨¡åž‹çš„æ ‡å‡†å®žè·µé€šå¸¸æ¶‰åŠå°†å¤šä¸ªæ–‡æ¡£æ‰“åŒ…åœ¨ä¸€èµ·ä»¥æé«˜è®¡ç®—æ•ˆçŽ‡ï¼Œä½†è¿™ä¸€è¿‡ç¨‹å¯¹æ¨¡åž‹èƒ½åŠ›çš„å½±å“å°šæœªå¾—åˆ°å……åˆ†æŽ¢ç´¢ã€‚ä¸ºå¡«è¡¥è¿™ä¸€ç©ºç™½ï¼Œæœ¬ç ”ç©¶è°ƒæŸ¥äº†ä¸åŒæ–‡æ¡£æ‰“åŒ…ç­–ç•¥å¦‚ä½•å½±å“LLMsçš„æ½œåœ¨å¤šè·³æŽ¨ç†èƒ½åŠ›ã€‚æˆ‘ä»¬çš„å‘çŽ°è¡¨æ˜Žï¼Œä¸Žåœ¨å•ä¸ªæ–‡æ¡£ä¸Šè®­ç»ƒç›¸æ¯”ï¼Œæ‰“åŒ…å¯ä»¥æé«˜æ¨¡åž‹æ€§èƒ½ï¼Œä½†éœ€è¦æ›´å¤šçš„è®¡ç®—èµ„æºã€‚ä¸ºäº†è¿›ä¸€æ­¥ç†è§£åº•å±‚æœºåˆ¶ï¼Œæˆ‘ä»¬è¿›è¡Œäº†æ¶ˆèžç ”ç©¶ï¼Œè¯†åˆ«äº†è§£é‡Šæ‰“åŒ…ä¼˜åŠ¿çš„å…³é”®å› ç´ ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬çš„ç ”ç©¶æ·±åŒ–äº†å¯¹LLMè®­ç»ƒåŠ¨æ€çš„ç†è§£ï¼Œå¹¶ä¸ºä¼˜åŒ–æ¨¡åž‹å¼€å‘æä¾›äº†å®žç”¨è§è§£ã€‚

## ðŸ”¬ æ–¹æ³•è¯¦è§£

æœ¬ç ”ç©¶é‡‡ç”¨å®žéªŒåˆ†æžæ¡†æž¶ï¼Œæ ¸å¿ƒæ–¹æ³•åŒ…æ‹¬è®¾è®¡ä¸åŒæ–‡æ¡£æ‰“åŒ…ç­–ç•¥ï¼ˆå¦‚åŸºäºŽå†…å®¹æˆ–é•¿åº¦çš„æ‰“åŒ…ï¼‰ï¼Œåœ¨æ ‡å‡†LLMè®­ç»ƒæµç¨‹ä¸­åº”ç”¨è¿™äº›ç­–ç•¥ï¼Œå¹¶è¯„ä¼°å…¶å¯¹å¤šè·³æŽ¨ç†ä»»åŠ¡çš„å½±å“ã€‚å…³é”®æŠ€æœ¯åˆ›æ–°ç‚¹åœ¨äºŽç³»ç»Ÿé‡åŒ–æ‰“åŒ…ç­–ç•¥ä¸Žæ¨¡åž‹èƒ½åŠ›é—´çš„å…³è”ï¼Œé€šè¿‡æ¶ˆèžç ”ç©¶åˆ†ç¦»å‡ºå½±å“æ€§èƒ½çš„å…³é”®å˜é‡ï¼ˆå¦‚æ–‡æ¡£é—´å…³è”æ€§ã€æ‰“åŒ…å¯†åº¦ï¼‰ã€‚ä¸ŽçŽ°æœ‰æ–¹æ³•çš„ä¸»è¦åŒºåˆ«åœ¨äºŽï¼ŒçŽ°æœ‰ç ”ç©¶å¤šå…³æ³¨æ‰“åŒ…çš„è®¡ç®—æ•ˆçŽ‡ï¼Œè€Œæœ¬æ–‡é¦–æ¬¡æ·±å…¥æŽ¢è®¨å…¶å¯¹æ¨¡åž‹å†…åœ¨æŽ¨ç†èƒ½åŠ›çš„æ½œåœ¨å½±å“ï¼Œæä¾›äº†æ›´å…¨é¢çš„è®­ç»ƒåŠ¨æ€åˆ†æžã€‚

## ðŸ“Š å®žéªŒäº®ç‚¹

å®žéªŒè¡¨æ˜Žï¼Œæ–‡æ¡£æ‰“åŒ…ç­–ç•¥ç›¸æ¯”å•æ–‡æ¡£è®­ç»ƒèƒ½æ˜¾è‘—æå‡LLMsçš„å¤šè·³æŽ¨ç†èƒ½åŠ›ï¼Œä½†è®¡ç®—æˆæœ¬å¢žåŠ ï¼›æ¶ˆèžç ”ç©¶è¯†åˆ«å‡ºæ–‡æ¡£é—´è¯­ä¹‰å…³è”å’Œæ‰“åŒ…é¡ºåºæ˜¯å…³é”®å½±å“å› ç´ ï¼Œä¸ºé«˜æ•ˆè®­ç»ƒæä¾›äº†å®žè¯ä¾æ®ã€‚

## ðŸŽ¯ åº”ç”¨åœºæ™¯

è¯¥ç ”ç©¶å¯åº”ç”¨äºŽä¼˜åŒ–å¤§åž‹è¯­è¨€æ¨¡åž‹çš„è®­ç»ƒæµç¨‹ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨è®¡ç®—èµ„æºä¸Žæ¨¡åž‹æ€§èƒ½é—´åšå‡ºå¹³è¡¡å†³ç­–ï¼Œæå‡å¤šè·³æŽ¨ç†ä»»åŠ¡ï¼ˆå¦‚å¤æ‚é—®ç­”ã€é€»è¾‘æŽ¨ç†ï¼‰çš„æ¨¡åž‹è¡¨çŽ°ï¼Œå¯¹AIåŠ©æ‰‹ã€æ•™è‚²å·¥å…·å’Œè‡ªåŠ¨åŒ–åˆ†æžç³»ç»Ÿæœ‰å®žé™…ä»·å€¼ã€‚

## ðŸ“„ æ‘˜è¦ï¼ˆåŽŸæ–‡ï¼‰

> The standard practice for training large language models involves packing multiple documents together to optimize computational efficiency. However, the impact of this process on the models' capabilities remains largely unexplored. To address this gap, we investigate how different document-packing strategies influence the latent multi-hop reasoning abilities of LLMs. Our findings indicate that packing can improve model performance compared to training on individual documents, at the expense of more compute. To further understand the underlying mechanisms, we conduct an ablation study, identifying key factors that explain the advantages of packing. Ultimately, our research deepens the understanding of LLM training dynamics and provides practical insights for optimizing model development.

