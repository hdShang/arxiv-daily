---
layout: default
title: Integrated Planning and Control on Manifolds: Factor Graph Representation and Toolkit
---

# Integrated Planning and Control on Manifolds: Factor Graph Representation and Toolkit

<div class="paper-toolbar">
  <div class="toolbar-left">
    <a href="https://arxiv.org/abs/2510.04278" target="_blank" class="toolbar-btn">arXiv: 2510.04278v1</a>
    <a href="https://arxiv.org/pdf/2510.04278.pdf" target="_blank" class="toolbar-btn">PDF</a>
  </div>
  <div class="toolbar-right">
    <button class="toolbar-btn favorite-btn" data-arxiv-id="2510.04278v1" 
            onclick="toggleFavorite(this, '2510.04278v1', 'Integrated Planning and Control on Manifolds: Factor Graph Representation and Toolkit')" title="Êî∂Ëóè">
      ‚òÜ Êî∂Ëóè
    </button>
    <button class="toolbar-btn share-btn" onclick="copyLink()" title="Â§çÂà∂ÈìæÊé•">
      üîó ÂàÜ‰∫´
    </button>
  </div>
</div>


**‰ΩúËÄÖ**: Peiwen Yang, Weisong Wen, Runqiu Yang, Yuanyuan Zhang, Jiahao Hu, Yingming Chen, Naigui Xiao, Jiaqi Zhao

**ÂàÜÁ±ª**: cs.RO

**ÂèëÂ∏ÉÊó•Êúü**: 2025-10-05

---

## üí° ‰∏ÄÂè•ËØùË¶ÅÁÇπ

**ÊèêÂá∫FactorMPCÔºöÂü∫‰∫éÂõ†Â≠êÂõæÁöÑÊµÅÂΩ¢‰∏äÈõÜÊàêËßÑÂàí‰∏éÊéßÂà∂Â∑•ÂÖ∑ÂåÖ**

üéØ **ÂåπÈÖçÈ¢ÜÂüü**: **ÊîØÊü±‰∏ÄÔºöÊú∫Âô®‰∫∫ÊéßÂà∂ (Robot Control)**

**ÂÖ≥ÈîÆËØç**: `Ê®°ÂûãÈ¢ÑÊµãÊéßÂà∂` `Âõ†Â≠êÂõæ` `ÊµÅÂΩ¢‰ºòÂåñ` `Êú∫Âô®‰∫∫ÊéßÂà∂` `ÊéßÂà∂ÈöúÁ¢çÂáΩÊï∞`

## üìã Ê†∏ÂøÉË¶ÅÁÇπ

1. ‰º†ÁªüMPCÂú®Â§ÑÁêÜÊµÅÂΩ¢‰∏äÁöÑÊú∫Âô®‰∫∫ÊéßÂà∂Êó∂Èù¢‰∏¥Â•áÂºÇÊÄß„ÄÅËøáÂ∫¶ÂèÇÊï∞ÂåñÁ≠âÈóÆÈ¢òÔºåÂØºËá¥ÊÄßËÉΩ‰∏ãÈôç„ÄÇ
2. FactorMPCÂà©Áî®Âõ†Â≠êÂõæÁªü‰∏ÄÂª∫Ê®°Á≥ªÁªüÂä®ÂäõÂ≠¶„ÄÅÁ∫¶ÊùüÂíåÁõÆÊ†áÔºåÊîØÊåÅÊµÅÂΩ¢Áä∂ÊÄÅÂíåÈ´òÊñØ‰∏çÁ°ÆÂÆöÊÄßÔºåÂÆûÁé∞È´òÊïà‰ºòÂåñ„ÄÇ
3. ÂÆûÈ™åË°®ÊòéÔºåFactorMPCÂú®ÂõõÊóãÁøºÈ£ûË°åÂô®‰∏äÂÆûÁé∞‰∫Ü‰ºòË∂äÁöÑËΩ®ËøπË∑üË∏™ÂíåÈÅøÈöúÊÄßËÉΩÔºåÂπ∂ÂºÄÊ∫ê‰ª£Á†Å‰ª•‰øÉËøõÁ†îÁ©∂„ÄÇ

## üìù ÊëòË¶ÅÔºà‰∏≠ÊñáÔºâ

Êú¨ÊñáÊèêÂá∫FactorMPCÔºå‰∏Ä‰∏™Âü∫‰∫éÂõ†Â≠êÂõæÁöÑÊ®°ÂûãÈ¢ÑÊµãÊéßÂà∂(MPC)Â∑•ÂÖ∑ÂåÖÔºåÊó®Âú®Ëß£ÂÜ≥‰º†ÁªüÊ¨ßÂá†ÈáåÂæóÂÖ¨ÂºèÂú®Â§ÑÁêÜÈùûÁ∫øÊÄßÊµÅÂΩ¢‰∏äÁöÑÁ≥ªÁªüÔºàÂ¶ÇÊú∫Âô®‰∫∫ÂßøÊÄÅÂä®ÂäõÂ≠¶ÂíåÁ∫¶ÊùüËøêÂä®ËßÑÂàíÔºâÊó∂ÈÅáÂà∞ÁöÑÂ•áÂºÇÊÄß„ÄÅËøáÂ∫¶ÂèÇÊï∞ÂåñÂíåÊî∂ÊïõÊÄßÂ∑ÆÁ≠âÈóÆÈ¢ò„ÄÇËØ•ÊñπÊ≥ïÂ∞ÜÁ≥ªÁªüÂä®ÂäõÂ≠¶„ÄÅÁ∫¶ÊùüÂíåÁõÆÊ†áÁªü‰∏ÄÂà∞‰∏Ä‰∏™Ê®°ÂùóÂåñ„ÄÅÁî®Êà∑ÂèãÂ•Ω‰∏îÈ´òÊïàÁöÑ‰ºòÂåñÁªìÊûÑ‰∏≠„ÄÇFactorMPCÂéüÁîüÊîØÊåÅÊµÅÂΩ¢ÂÄºÁä∂ÊÄÅÔºåÂπ∂Âú®ÂàáÁ©∫Èó¥‰∏≠Âª∫Ê®°È´òÊñØ‰∏çÁ°ÆÂÆöÊÄß„ÄÇÈÄöËøáÂà©Áî®Âõ†Â≠êÂõæÁöÑÁ®ÄÁñèÊÄßÂíåÊ¶ÇÁéáÁªìÊûÑÔºåËØ•Â∑•ÂÖ∑ÂåÖÂç≥‰ΩøÂØπ‰∫éÂÖ∑ÊúâÂ§çÊùÇÁ∫¶ÊùüÁöÑÈ´òÁª¥Á≥ªÁªü‰πüËÉΩÂÆûÁé∞ÂÆûÊó∂ÊÄßËÉΩ„ÄÇÊ≠§Â§ñÔºåËøòËÆæËÆ°‰∫ÜÂü∫‰∫éÈÄüÂ∫¶Êâ©Â±ïÁöÑÊµÅÂΩ¢ÊéßÂà∂ÈöúÁ¢çÂáΩÊï∞(CBF)ÁöÑÈÅøÈöúÂõ†Â≠êÔºåÁî®‰∫éÂÆâÂÖ®ÂÖ≥ÈîÆÂ∫îÁî®„ÄÇÈÄöËøáÊ°•Êé•ÂõæÂΩ¢Ê®°Âûã‰∏éÂÆâÂÖ®ÂÖ≥ÈîÆMPCÔºåËØ•Â∑•‰Ωú‰∏∫ÈõÜÊàêËßÑÂàíÂíåÊéßÂà∂Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂèØÊâ©Â±ï‰∏îÂá†‰Ωï‰∏ÄËá¥ÁöÑÊ°ÜÊû∂„ÄÇÂõõÊóãÁøºÈ£ûË°åÂô®‰∏äÁöÑ‰ªøÁúüÂíåÂÆûÈ™åÁªìÊûúË°®ÊòéÔºå‰∏éÂü∫Á∫øÊñπÊ≥ïÁõ∏ÊØîÔºåËØ•ÊñπÊ≥ïÂÖ∑ÊúâÂçìË∂äÁöÑËΩ®ËøπË∑üË∏™ÂíåÈÅøÈöúÊÄßËÉΩ„ÄÇ‰∏∫‰∫Ü‰øÉËøõÁ†îÁ©∂ÁöÑÂèØÈáçÂ§çÊÄßÔºåÊàë‰ª¨Êèê‰æõ‰∫ÜÂºÄÊ∫êÂÆûÁé∞ÔºåÊèê‰æõÂç≥ÊèíÂç≥Áî®ÁöÑÂõ†Â≠ê„ÄÇ

## üî¨ ÊñπÊ≥ïËØ¶Ëß£

**ÈóÆÈ¢òÂÆö‰πâ**Ôºö‰º†ÁªüÊ®°ÂûãÈ¢ÑÊµãÊéßÂà∂(MPC)Âú®Â§ÑÁêÜÊú∫Âô®‰∫∫ÂßøÊÄÅÊéßÂà∂Á≠âÈùûÁ∫øÊÄßÊµÅÂΩ¢‰∏äÁöÑÁ≥ªÁªüÊó∂ÔºåÁî±‰∫éÊ¨ßÂá†ÈáåÂæóÁ©∫Èó¥ÁöÑÂ±ÄÈôêÊÄßÔºåÂÆπÊòìÂá∫Áé∞Â•áÂºÇÊÄß„ÄÅËøáÂ∫¶ÂèÇÊï∞ÂåñÂíåÊî∂ÊïõÊÄßÂ∑ÆÁ≠âÈóÆÈ¢ò„ÄÇÊ≠§Â§ñÔºåÂÆâÂÖ®Á∫¶ÊùüÁöÑÊúâÊïàÈõÜÊàê‰πüÊòØ‰∏Ä‰∏™ÊåëÊàòÔºåÂ∞§ÂÖ∂ÊòØÂú®Âä®ÊÄÅÁéØÂ¢É‰∏≠„ÄÇ

**Ê†∏ÂøÉÊÄùË∑Ø**ÔºöFactorMPCÁöÑÊ†∏ÂøÉÊÄùË∑ØÊòØÂ∞ÜÁ≥ªÁªüÂä®ÂäõÂ≠¶„ÄÅÁ∫¶ÊùüÂíåÁõÆÊ†áÂáΩÊï∞Áªü‰∏ÄË°®Á§∫‰∏∫Âõ†Â≠êÂõæÔºåÂà©Áî®Âõ†Â≠êÂõæÁöÑÁ®ÄÁñèÊÄßÂíåÊ¶ÇÁéáÁªìÊûÑËøõË°åÈ´òÊïà‰ºòÂåñ„ÄÇÈÄöËøáÂú®ÊµÅÂΩ¢ÁöÑÂàáÁ©∫Èó¥‰∏≠Âª∫Ê®°Áä∂ÊÄÅÂíå‰∏çÁ°ÆÂÆöÊÄßÔºåÈÅøÂÖç‰∫ÜÊ¨ßÂá†ÈáåÂæóÁ©∫Èó¥ÁöÑÂ±ÄÈôêÊÄß„ÄÇÂêåÊó∂ÔºåÂºïÂÖ•Âü∫‰∫éÊéßÂà∂ÈöúÁ¢çÂáΩÊï∞(CBF)ÁöÑÂõ†Â≠êÔºåÁ°Æ‰øùÂÆâÂÖ®Á∫¶ÊùüÁöÑÊª°Ë∂≥„ÄÇ

**ÊäÄÊúØÊ°ÜÊû∂**ÔºöFactorMPCÁöÑÊï¥‰ΩìÊ°ÜÊû∂ÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™‰∏ªË¶ÅÊ®°ÂùóÔºö1) Á≥ªÁªüÂä®ÂäõÂ≠¶Âª∫Ê®°Ôºö‰ΩøÁî®Âõ†Â≠êÂõæË°®Á§∫Á≥ªÁªüÁöÑÁä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ã„ÄÇ2) Á∫¶ÊùüÂª∫Ê®°ÔºöÂ∞ÜÁä∂ÊÄÅÁ∫¶ÊùüÂíåÊéßÂà∂Á∫¶ÊùüË°®Á§∫‰∏∫Âõ†Â≠êÂõæ‰∏≠ÁöÑÂõ†Â≠ê„ÄÇ3) ÁõÆÊ†áÂáΩÊï∞Âª∫Ê®°ÔºöÂ∞ÜËΩ®ËøπË∑üË∏™„ÄÅËÉΩÈáèÊúÄÂ∞èÂåñÁ≠âÁõÆÊ†áË°®Á§∫‰∏∫Âõ†Â≠êÂõæ‰∏≠ÁöÑÂõ†Â≠ê„ÄÇ4) ‰ºòÂåñÊ±ÇËß£ÔºöÂà©Áî®Âõ†Â≠êÂõæÁöÑÁ®ÄÁñèÊÄßÔºå‰ΩøÁî®È´òÊïàÁöÑ‰ºòÂåñÁÆóÊ≥ïÊ±ÇËß£MPCÈóÆÈ¢ò„ÄÇ5) ÂÆâÂÖ®‰øùÈöúÔºöÈÄöËøáCBFÂõ†Â≠êÁ°Æ‰øùÂÆâÂÖ®Á∫¶Êùü„ÄÇ

**ÂÖ≥ÈîÆÂàõÊñ∞**ÔºöFactorMPCÁöÑÂÖ≥ÈîÆÂàõÊñ∞Âú®‰∫éÔºö1) Âü∫‰∫éÂõ†Â≠êÂõæÁöÑÁªü‰∏ÄÂª∫Ê®°Ê°ÜÊû∂ÔºåËÉΩÂ§üÁÅµÊ¥ªÂú∞ÈõÜÊàêÁ≥ªÁªüÂä®ÂäõÂ≠¶„ÄÅÁ∫¶ÊùüÂíåÁõÆÊ†áÂáΩÊï∞„ÄÇ2) ÂéüÁîüÊîØÊåÅÊµÅÂΩ¢ÂÄºÁä∂ÊÄÅÔºåÈÅøÂÖç‰∫ÜÊ¨ßÂá†ÈáåÂæóÁ©∫Èó¥ÁöÑÂ±ÄÈôêÊÄß„ÄÇ3) ÂºïÂÖ•Âü∫‰∫éÈÄüÂ∫¶Êâ©Â±ïÁöÑÊµÅÂΩ¢ÊéßÂà∂ÈöúÁ¢çÂáΩÊï∞(CBF)ÁöÑÈÅøÈöúÂõ†Â≠êÔºåÂÆûÁé∞ÂÆâÂÖ®ÂÖ≥ÈîÆÊéßÂà∂„ÄÇ4) ÂºÄÊ∫êÂÆûÁé∞ÔºåÊñπ‰æøÁ†îÁ©∂‰∫∫Âëò‰ΩøÁî®ÂíåÊâ©Â±ï„ÄÇ

**ÂÖ≥ÈîÆËÆæËÆ°**ÔºöFactorMPCÁöÑÂÖ≥ÈîÆËÆæËÆ°ÂåÖÊã¨Ôºö1) ‰ΩøÁî®ÊùéÁæ§ÂíåÊùé‰ª£Êï∞Ë°®Á§∫ÊµÅÂΩ¢‰∏äÁöÑÁä∂ÊÄÅÂíåÊéßÂà∂Èáè„ÄÇ2) Âú®ÂàáÁ©∫Èó¥‰∏≠Âª∫Ê®°È´òÊñØ‰∏çÁ°ÆÂÆöÊÄß„ÄÇ3) ËÆæËÆ°ÂêàÈÄÇÁöÑÂõ†Â≠êÊù•Ë°®Á§∫Á≥ªÁªüÂä®ÂäõÂ≠¶„ÄÅÁ∫¶ÊùüÂíåÁõÆÊ†áÂáΩÊï∞„ÄÇ4) ‰ΩøÁî®È´òÊïàÁöÑ‰ºòÂåñÁÆóÊ≥ïÔºåÂ¶ÇGauss-NewtonÊàñLevenberg-MarquardtÁÆóÊ≥ïÔºåÊ±ÇËß£Âõ†Â≠êÂõæ‰ºòÂåñÈóÆÈ¢ò„ÄÇ5) CBFÂõ†Â≠êÁöÑËÆæËÆ°ÈúÄË¶Å‰ªîÁªÜÈÄâÊã©CBFÂáΩÊï∞ÂíåÂèÇÊï∞Ôºå‰ª•Á°Æ‰øùÂÆâÂÖ®Á∫¶ÊùüÁöÑÊª°Ë∂≥„ÄÇ

## üìä ÂÆûÈ™å‰∫ÆÁÇπ

ÂÆûÈ™åÁªìÊûúË°®ÊòéÔºåFactorMPCÂú®ÂõõÊóãÁøºÈ£ûË°åÂô®‰∏äÂÆûÁé∞‰∫Ü‰ºòË∂äÁöÑËΩ®ËøπË∑üË∏™ÂíåÈÅøÈöúÊÄßËÉΩ„ÄÇ‰∏éÂü∫Á∫øÊñπÊ≥ïÁõ∏ÊØîÔºåFactorMPCËÉΩÂ§üÊõ¥ÂáÜÁ°ÆÂú∞Ë∑üË∏™ÁõÆÊ†áËΩ®ËøπÔºåÂπ∂ÊúâÊïàÂú∞ÈÅøÂºÄÈöúÁ¢çÁâ©„ÄÇÊ≠§Â§ñÔºåFactorMPCËøòÂÖ∑ÊúâËâØÂ•ΩÁöÑÂÆûÊó∂ÊÄßËÉΩÔºåËÉΩÂ§üÊª°Ë∂≥ÂÆûÈôÖÂ∫îÁî®ÁöÑÈúÄÊ±Ç„ÄÇÂºÄÊ∫ê‰ª£Á†ÅÁöÑÊèê‰æõ‰πü‰∏∫ÂÖ∂‰ªñÁ†îÁ©∂‰∫∫ÂëòÊèê‰æõ‰∫Ü‰æøÂà©Ôºå‰øÉËøõ‰∫ÜËØ•È¢ÜÂüüÁöÑÂèëÂ±ï„ÄÇ

## üéØ Â∫îÁî®Âú∫ÊôØ

FactorMPCÈÄÇÁî®‰∫éÂêÑÁßçÈúÄË¶ÅÂú®ÈùûÁ∫øÊÄßÊµÅÂΩ¢‰∏äËøõË°åËßÑÂàíÂíåÊéßÂà∂ÁöÑÊú∫Âô®‰∫∫Á≥ªÁªüÔºå‰æãÂ¶ÇÊó†‰∫∫Êú∫„ÄÅÊó†‰∫∫ËΩ¶„ÄÅÊú∫Ê¢∞ËáÇÁ≠â„ÄÇÁâπÂà´ÊòØÂú®ÈúÄË¶ÅËÄÉËôëÂÆâÂÖ®Á∫¶ÊùüÁöÑÂú∫ÊôØ‰∏ãÔºåÂ¶ÇÂä®ÊÄÅÁéØÂ¢É‰∏≠ÁöÑÈÅøÈöú„ÄÅ‰∫∫Êú∫Âçè‰ΩúÁ≠âÔºåFactorMPCÂÖ∑ÊúâÈáçË¶ÅÁöÑÂ∫îÁî®‰ª∑ÂÄº„ÄÇËØ•Á†îÁ©∂ÊàêÊûúÊúâÂä©‰∫éÊèêÂçáÊú∫Âô®‰∫∫Á≥ªÁªüÁöÑËá™‰∏ªÊÄßÂíåÂÆâÂÖ®ÊÄßÔºåÊé®Âä®Êú∫Âô®‰∫∫ÊäÄÊúØÂú®Â∑•‰∏ö„ÄÅÁâ©ÊµÅ„ÄÅÂåªÁñóÁ≠âÈ¢ÜÂüüÁöÑÂ∫îÁî®„ÄÇ

## üìÑ ÊëòË¶ÅÔºàÂéüÊñáÔºâ

> Model predictive control (MPC) faces significant limitations when applied to systems evolving on nonlinear manifolds, such as robotic attitude dynamics and constrained motion planning, where traditional Euclidean formulations struggle with singularities, over-parameterization, and poor convergence. To overcome these challenges, this paper introduces FactorMPC, a factor-graph based MPC toolkit that unifies system dynamics, constraints, and objectives into a modular, user-friendly, and efficient optimization structure. Our approach natively supports manifold-valued states with Gaussian uncertainties modeled in tangent spaces. By exploiting the sparsity and probabilistic structure of factor graphs, the toolkit achieves real-time performance even for high-dimensional systems with complex constraints. The velocity-extended on-manifold control barrier function (CBF)-based obstacle avoidance factors are designed for safety-critical applications. By bridging graphical models with safety-critical MPC, our work offers a scalable and geometrically consistent framework for integrated planning and control. The simulations and experimental results on the quadrotor demonstrate superior trajectory tracking and obstacle avoidance performance compared to baseline methods. To foster research reproducibility, we have provided open-source implementation offering plug-and-play factors.

