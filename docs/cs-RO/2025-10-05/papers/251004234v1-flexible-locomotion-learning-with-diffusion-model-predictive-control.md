---
layout: default
title: Flexible Locomotion Learning with Diffusion Model Predictive Control
---

# Flexible Locomotion Learning with Diffusion Model Predictive Control

<div class="paper-toolbar">
  <div class="toolbar-left">
    <a href="https://arxiv.org/abs/2510.04234" target="_blank" class="toolbar-btn">arXiv: 2510.04234v1</a>
    <a href="https://arxiv.org/pdf/2510.04234.pdf" target="_blank" class="toolbar-btn">PDF</a>
  </div>
  <div class="toolbar-right">
    <button class="toolbar-btn favorite-btn" data-arxiv-id="2510.04234v1" 
            onclick="toggleFavorite(this, '2510.04234v1', 'Flexible Locomotion Learning with Diffusion Model Predictive Control')" title="Êî∂Ëóè">
      ‚òÜ Êî∂Ëóè
    </button>
    <button class="toolbar-btn share-btn" onclick="copyLink()" title="Â§çÂà∂ÈìæÊé•">
      üîó ÂàÜ‰∫´
    </button>
  </div>
</div>


**‰ΩúËÄÖ**: Runhan Huang, Haldun Balim, Heng Yang, Yilun Du

**ÂàÜÁ±ª**: cs.RO, cs.AI

**ÂèëÂ∏ÉÊó•Êúü**: 2025-10-05

**Â§áÊ≥®**: 9 pages, 8 figures

---

## üí° ‰∏ÄÂè•ËØùË¶ÅÁÇπ

**ÊèêÂá∫Diffusion-MPCÔºåÂà©Áî®Êâ©Êï£Ê®°ÂûãÈ¢ÑÊµãÊéßÂà∂ÂÆûÁé∞ËÖøÂºèÊú∫Âô®‰∫∫ÁÅµÊ¥ªËøêÂä®Â≠¶‰π†„ÄÇ**

üéØ **ÂåπÈÖçÈ¢ÜÂüü**: **ÊîØÊü±‰∏ÄÔºöÊú∫Âô®‰∫∫ÊéßÂà∂ (Robot Control)** **ÊîØÊü±‰∫åÔºöRLÁÆóÊ≥ï‰∏éÊû∂ÊûÑ (RL & Architecture)**

**ÂÖ≥ÈîÆËØç**: `ËÖøÂºèÊú∫Âô®‰∫∫` `ËøêÂä®ÊéßÂà∂` `Êâ©Êï£Ê®°Âûã` `Ê®°ÂûãÈ¢ÑÊµãÊéßÂà∂` `Âº∫ÂåñÂ≠¶‰π†` `Âä®ÂäõÂ≠¶Âª∫Ê®°` `Ëá™ÈÄÇÂ∫îÊéßÂà∂`

## üìã Ê†∏ÂøÉË¶ÅÁÇπ

1. ËÖøÂºèÊú∫Âô®‰∫∫ËøêÂä®ÊéßÂà∂Èù¢‰∏¥È≤ÅÊ£íÊÄß„ÄÅÈÄÇÂ∫îÊÄß‰ª•Âèä‰ªªÂä°ÂÆâÂÖ®Á∫¶ÊùüÁöÑÂ§öÈáçÊåëÊàòÔºå‰º†ÁªüÊó†Ê®°ÂûãÂº∫ÂåñÂ≠¶‰π†ÊñπÊ≥ïÈöæ‰ª•ÂÖºÈ°æ„ÄÇ
2. Diffusion-MPCÂà©Áî®Êâ©Êï£Ê®°Âûã‰Ωú‰∏∫Âä®ÂäõÂ≠¶ÂÖàÈ™åÔºåÁªìÂêàÂ•ñÂä±ÂíåÁ∫¶Êùü‰ºòÂåñÔºåÂÆûÁé∞ÊµãËØïÊó∂ÁÅµÊ¥ªÈÄÇÂ∫îÊñ∞‰ªªÂä°„ÄÇ
3. ÈÄöËøá‰∫§‰∫íÂºèËÆ≠ÁªÉÁÆóÊ≥ïÔºåDiffusion-MPCÂú®ÁúüÂÆûÁéØÂ¢É‰∏≠È™åËØÅ‰∫ÜÂÖ∂ËøêÂä®ËÉΩÂäõÂíåÂØπÊñ∞Â•ñÂä±ËßÑËåÉÁöÑÈÄÇÂ∫îÊÄß„ÄÇ

## üìù ÊëòË¶ÅÔºà‰∏≠ÊñáÔºâ

ËÖøÂºèËøêÂä®ÊéßÂà∂ÈúÄË¶ÅÂÖºÈ°æÈ≤ÅÊ£íÊÄßÂíåÈÄÇÂ∫îÊÄßÔºåÂêåÊó∂Êª°Ë∂≥‰ªªÂä°ÂíåÂÆâÂÖ®Á∫¶Êùü„ÄÇÁÑ∂ËÄåÔºåÊó†Ê®°ÂûãÂº∫ÂåñÂ≠¶‰π†(RL)ÊñπÊ≥ïÈÄöÂ∏∏‰∫ßÁîüÂõ∫ÂÆöÁöÑÁ≠ñÁï•ÔºåÈöæ‰ª•Âú®ÊµãËØïÊó∂ÈÄÇÂ∫îÊñ∞Ë°å‰∏∫„ÄÇÁõ∏ÊØî‰πã‰∏ãÔºåÊ®°ÂûãÈ¢ÑÊµãÊéßÂà∂(MPC)ÈÄöËøáÂ∞Ü‰∏çÂêåÁöÑÁõÆÊ†áÂíåÁ∫¶ÊùüÁõ¥Êé•Á∫≥ÂÖ•‰ºòÂåñËøáÁ®ãÔºå‰∏∫ÁÅµÊ¥ªÁöÑË°å‰∏∫ÂêàÊàêÊèê‰æõ‰∫Ü‰∏ÄÁßçËá™ÁÑ∂ÁöÑÊñπÊ≥ï„ÄÇÁÑ∂ËÄåÔºåÁªèÂÖ∏ÁöÑMPC‰æùËµñ‰∫éÁ≤æÁ°ÆÁöÑÂä®ÂäõÂ≠¶Ê®°ÂûãÔºåËøôÂú®Â§çÊùÇÁéØÂ¢É‰∏≠ÈÄöÂ∏∏Èöæ‰ª•Ëé∑ÂæóÔºåÂπ∂‰∏îÈÄöÂ∏∏ÈúÄË¶ÅÁÆÄÂåñÂÅáËÆæ„ÄÇÊàë‰ª¨ÊèêÂá∫‰∫ÜDiffusion-MPCÔºåÂÆÉÂà©Áî®Â≠¶‰π†Âà∞ÁöÑÁîüÊàêÊâ©Êï£Ê®°Âûã‰Ωú‰∏∫ËßÑÂàíÁöÑËøë‰ººÂä®ÂäõÂ≠¶ÂÖàÈ™åÔºåÈÄöËøáÂü∫‰∫éÂ•ñÂä±ÂíåÁ∫¶ÊùüÁöÑ‰ºòÂåñÂÆûÁé∞ÁÅµÊ¥ªÁöÑÊµãËØïÊó∂ÈÄÇÂ∫î„ÄÇDiffusion-MPCËÅîÂêàÈ¢ÑÊµãÊú™Êù•ÁöÑÁä∂ÊÄÅÂíåÂä®‰ΩúÔºõÂú®ÊØè‰∏™ÂèçÂêëÊ≠•È™§‰∏≠ÔºåÊàë‰ª¨ÁªìÂêàÂ•ñÂä±ËßÑÂàíÂπ∂ÊñΩÂä†Á∫¶ÊùüÊäïÂΩ±Ôºå‰ªéËÄå‰∫ßÁîüÊª°Ë∂≥‰ªªÂä°ÁõÆÊ†áÂêåÊó∂‰øùÊåÅÂú®Áâ©ÁêÜÈôêÂà∂ÂÜÖÁöÑËΩ®Ëøπ„ÄÇ‰∏∫‰∫ÜËé∑ÂæóË∂ÖË∂äÊ®°‰ªøÈ¢ÑËÆ≠ÁªÉÁöÑËßÑÂàíÊ®°ÂûãÔºåÊàë‰ª¨‰∏∫Âü∫‰∫éÊâ©Êï£ÁöÑËßÑÂàíÂô®ÂºïÂÖ•‰∫Ü‰∏ÄÁßç‰∫§‰∫íÂºèËÆ≠ÁªÉÁÆóÊ≥ïÔºöÊàë‰ª¨Âú®ÁéØÂ¢É‰∏≠ÊâßË°åÊàë‰ª¨ÁöÑÂ•ñÂä±ÂíåÁ∫¶ÊùüËßÑÂàíÂô®ÔºåÁÑ∂ÂêéÈÄöËøáÂÆÉ‰ª¨ÂÆûÁé∞ÁöÑÊî∂ÁõäÊù•ËøáÊª§ÂíåÈáçÊñ∞Âä†ÊùÉÊî∂ÈõÜÂà∞ÁöÑËΩ®ËøπÔºåÁÑ∂ÂêéÂÜçÊõ¥Êñ∞ÂéªÂô™Âô®„ÄÇÊàë‰ª¨ÁöÑËÆæËÆ°ÂÆûÁé∞‰∫ÜÂº∫Â§ßÁöÑÊµãËØïÊó∂ÈÄÇÂ∫îÊÄßÔºåÂÖÅËÆ∏ËßÑÂàíÂô®Ë∞ÉÊï¥Âà∞Êñ∞ÁöÑÂ•ñÂä±ËßÑËåÉËÄåÊó†ÈúÄÈáçÊñ∞ËÆ≠ÁªÉ„ÄÇÊàë‰ª¨Âú®Áé∞ÂÆû‰∏ñÁïå‰∏≠È™åËØÅ‰∫ÜDiffusion-MPCÔºåÂ±ïÁ§∫‰∫ÜÂº∫Â§ßÁöÑËøêÂä®ËÉΩÂäõÂíåÁÅµÊ¥ªÁöÑÈÄÇÂ∫îÊÄß„ÄÇ

## üî¨ ÊñπÊ≥ïËØ¶Ëß£

**ÈóÆÈ¢òÂÆö‰πâ**ÔºöËÆ∫ÊñáÊó®Âú®Ëß£ÂÜ≥ËÖøÂºèÊú∫Âô®‰∫∫ËøêÂä®ÊéßÂà∂‰∏≠Ôºå‰º†ÁªüÊñπÊ≥ïÈöæ‰ª•ÂÖºÈ°æÈ≤ÅÊ£íÊÄß„ÄÅÈÄÇÂ∫îÊÄßÂíå‰ªªÂä°Á∫¶ÊùüÁöÑÈóÆÈ¢ò„ÄÇÊó†Ê®°ÂûãÂº∫ÂåñÂ≠¶‰π†ÊñπÊ≥ïÁ≠ñÁï•Âõ∫ÂÆöÔºåÈöæ‰ª•ÈÄÇÂ∫îÊñ∞‰ªªÂä°ÔºõÁªèÂÖ∏MPC‰æùËµñÁ≤æÁ°ÆÂä®ÂäõÂ≠¶Ê®°ÂûãÔºå‰ΩÜÂú®Â§çÊùÇÁéØÂ¢É‰∏≠Èöæ‰ª•Ëé∑ÂèñÔºåÈúÄË¶ÅÁÆÄÂåñÂÅáËÆæ„ÄÇ

**Ê†∏ÂøÉÊÄùË∑Ø**ÔºöËÆ∫ÊñáÁöÑÊ†∏ÂøÉÊÄùË∑ØÊòØÂà©Áî®Êâ©Êï£Ê®°ÂûãÂ≠¶‰π†ËøêÂä®Âä®ÂäõÂ≠¶ÁöÑÂÖàÈ™åÁü•ËØÜÔºåÂπ∂Â∞ÜÂÖ∂ËûçÂÖ•Ê®°ÂûãÈ¢ÑÊµãÊéßÂà∂Ê°ÜÊû∂‰∏≠„ÄÇÈÄöËøáÊâ©Êï£Ê®°ÂûãÈ¢ÑÊµãÊú™Êù•Áä∂ÊÄÅÂíåÂä®‰ΩúÔºåÂπ∂ÁªìÂêàÂ•ñÂä±ÂáΩÊï∞ÂíåÁ∫¶ÊùüÊù°‰ª∂ËøõË°å‰ºòÂåñÔºå‰ªéËÄåÂÆûÁé∞ÁÅµÊ¥ªÁöÑËøêÂä®ËßÑÂàíÂíåÊéßÂà∂„ÄÇËøôÁßçÊñπÊ≥ïÈÅøÂÖç‰∫ÜÂØπÁ≤æÁ°ÆÂä®ÂäõÂ≠¶Ê®°ÂûãÁöÑ‰æùËµñÔºåÂêåÊó∂ËÉΩÂ§üÈÄÇÂ∫îÊñ∞ÁöÑ‰ªªÂä°ÁõÆÊ†á„ÄÇ

**ÊäÄÊúØÊ°ÜÊû∂**ÔºöDiffusion-MPCÁöÑÊï¥‰ΩìÊ°ÜÊû∂ÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™‰∏ªË¶ÅÊ®°ÂùóÔºö1) Êâ©Êï£Ê®°ÂûãÔºöÁî®‰∫éÂ≠¶‰π†ËøêÂä®Âä®ÂäõÂ≠¶ÁöÑÂÖàÈ™åÁü•ËØÜÔºåËÉΩÂ§üÁîüÊàêÊú™Êù•Áä∂ÊÄÅÂíåÂä®‰ΩúÁöÑÈ¢ÑÊµã„ÄÇ2) Ê®°ÂûãÈ¢ÑÊµãÊéßÂà∂ÔºöÂà©Áî®Êâ©Êï£Ê®°ÂûãÊèê‰æõÁöÑÈ¢ÑÊµãÔºåÁªìÂêàÂ•ñÂä±ÂáΩÊï∞ÂíåÁ∫¶ÊùüÊù°‰ª∂ÔºåËøõË°å‰ºòÂåñÔºåÁîüÊàêËøêÂä®ËΩ®Ëøπ„ÄÇ3) ‰∫§‰∫íÂºèËÆ≠ÁªÉÔºöÈÄöËøáÂú®ÁúüÂÆûÁéØÂ¢É‰∏≠ÊâßË°åËßÑÂàíÂô®ÔºåÊî∂ÈõÜÊï∞ÊçÆÔºåÂπ∂Ê†πÊçÆÂÆûÈôÖÊî∂ÁõäÂØπÊï∞ÊçÆËøõË°åËøáÊª§ÂíåÈáçÂä†ÊùÉÔºå‰ªéËÄåÊõ¥Êñ∞Êâ©Êï£Ê®°Âûã„ÄÇ

**ÂÖ≥ÈîÆÂàõÊñ∞**ÔºöËØ•ËÆ∫ÊñáÁöÑÂÖ≥ÈîÆÂàõÊñ∞Âú®‰∫éÂ∞ÜÊâ©Êï£Ê®°ÂûãÂºïÂÖ•Âà∞Ê®°ÂûãÈ¢ÑÊµãÊéßÂà∂Ê°ÜÊû∂‰∏≠Ôºå‰Ωú‰∏∫Âä®ÂäõÂ≠¶Ê®°ÂûãÁöÑÂÖàÈ™å„ÄÇ‰∏é‰º†ÁªüÁöÑMPCÊñπÊ≥ïÁõ∏ÊØîÔºåDiffusion-MPC‰∏çÈúÄË¶ÅÁ≤æÁ°ÆÁöÑÂä®ÂäõÂ≠¶Ê®°ÂûãÔºåËÉΩÂ§üÈÄÇÂ∫îÂ§çÊùÇÁéØÂ¢ÉÂíåÊñ∞ÁöÑ‰ªªÂä°ÁõÆÊ†á„ÄÇÊ≠§Â§ñÔºå‰∫§‰∫íÂºèËÆ≠ÁªÉÁÆóÊ≥ïËÉΩÂ§ü‰ΩøÊâ©Êï£Ê®°ÂûãÊõ¥Â•ΩÂú∞ÈÄÇÂ∫îÁúüÂÆûÁéØÂ¢ÉÁöÑÂä®ÂäõÂ≠¶ÁâπÊÄß„ÄÇ

**ÂÖ≥ÈîÆËÆæËÆ°**ÔºöÂú®Êâ©Êï£Ê®°ÂûãÊñπÈù¢ÔºåËÆ∫ÊñáÈááÁî®‰∫Ü‰∏ÄÁßçËÅîÂêàÈ¢ÑÊµãÁä∂ÊÄÅÂíåÂä®‰ΩúÁöÑÊñπÊ≥ï„ÄÇÂú®MPCÁöÑÊØè‰∏™ÂèçÂêëÊ≠•È™§‰∏≠ÔºåËÆ∫ÊñáÁªìÂêà‰∫ÜÂ•ñÂä±ËßÑÂàíÂíåÁ∫¶ÊùüÊäïÂΩ±Ôºå‰ªéËÄåÁîüÊàêÊª°Ë∂≥‰ªªÂä°ÁõÆÊ†áÂíåÁâ©ÁêÜÈôêÂà∂ÁöÑËΩ®Ëøπ„ÄÇ‰∫§‰∫íÂºèËÆ≠ÁªÉÁÆóÊ≥ïÈÄöËøáÂÆûÈôÖÊî∂ÁõäÊù•ËøáÊª§ÂíåÈáçÂä†ÊùÉÊï∞ÊçÆÔºå‰ªéËÄåÊèêÈ´òÊ®°ÂûãÁöÑÊÄßËÉΩ„ÄÇÂÖ∑‰ΩìÁöÑÁΩëÁªúÁªìÊûÑÂíåÊçüÂ§±ÂáΩÊï∞Á≠âÁªÜËäÇÂú®ËÆ∫Êñá‰∏≠Â∫îËØ•ÊúâÊõ¥ËØ¶ÁªÜÁöÑÊèèËø∞ÔºàÊú™Áü•Ôºâ„ÄÇ

## üìä ÂÆûÈ™å‰∫ÆÁÇπ

ËÆ∫ÊñáÂú®ÁúüÂÆûÁéØÂ¢É‰∏≠È™åËØÅ‰∫ÜDiffusion-MPCÁöÑÊÄßËÉΩÔºåÂ±ïÁ§∫‰∫ÜÂÖ∂Âº∫Â§ßÁöÑËøêÂä®ËÉΩÂäõÂíåÁÅµÊ¥ªÁöÑÈÄÇÂ∫îÊÄß„ÄÇÂÖ∑‰ΩìÊÄßËÉΩÊï∞ÊçÆÔºà‰æãÂ¶ÇÔºåÊàêÂäüÁéá„ÄÅËøêÂä®ÈÄüÂ∫¶„ÄÅÈÄÇÂ∫îÊó∂Èó¥Á≠âÔºâ‰ª•Âèä‰∏éÂü∫Á∫øÊñπÊ≥ïÔºà‰æãÂ¶ÇÔºå‰º†ÁªüMPC„ÄÅÂº∫ÂåñÂ≠¶‰π†ÊñπÊ≥ïÔºâÁöÑÂØπÊØîÁªìÊûúÈúÄË¶ÅÂú®ËÆ∫Êñá‰∏≠Êü•ÊâæÔºàÊú™Áü•Ôºâ„ÄÇÂÆûÈ™åÁªìÊûúË°®ÊòéÔºåDiffusion-MPCËÉΩÂ§üÊúâÊïàÂú∞ÈÄÇÂ∫îÊñ∞ÁöÑÂ•ñÂä±ËßÑËåÉÔºåËÄåÊó†ÈúÄÈáçÊñ∞ËÆ≠ÁªÉ„ÄÇ

## üéØ Â∫îÁî®Âú∫ÊôØ

Diffusion-MPCÂú®Êú∫Âô®‰∫∫ËøêÂä®ÊéßÂà∂È¢ÜÂüüÂÖ∑ÊúâÂπøÊ≥õÁöÑÂ∫îÁî®ÂâçÊôØÔºå‰æãÂ¶ÇÔºöÂ§çÊùÇÂú∞ÂΩ¢‰∏ãÁöÑÊú∫Âô®‰∫∫ÂØºËà™„ÄÅ‰∫∫Êú∫Âçè‰Ωú‰∏≠ÁöÑÂÆâÂÖ®ËøêÂä®ËßÑÂàí„ÄÅ‰ª•ÂèäÂú®Êú™Áü•ÊàñÂèòÂåñÁéØÂ¢É‰∏≠Êú∫Âô®‰∫∫ÁöÑËá™ÈÄÇÂ∫îÊéßÂà∂„ÄÇËØ•ÊñπÊ≥ïËÉΩÂ§üÊèêÈ´òÊú∫Âô®‰∫∫ÁöÑËá™‰∏ªÊÄßÂíåÈÄÇÂ∫îÊÄßÔºå‰ΩøÂÖ∂ËÉΩÂ§üÊõ¥Â•ΩÂú∞ÂÆåÊàêÂêÑÁßç‰ªªÂä°„ÄÇ

## üìÑ ÊëòË¶ÅÔºàÂéüÊñáÔºâ

> Legged locomotion demands controllers that are both robust and adaptable, while remaining compatible with task and safety considerations. However, model-free reinforcement learning (RL) methods often yield a fixed policy that can be difficult to adapt to new behaviors at test time. In contrast, Model Predictive Control (MPC) provides a natural approach to flexible behavior synthesis by incorporating different objectives and constraints directly into its optimization process. However, classical MPC relies on accurate dynamics models, which are often difficult to obtain in complex environments and typically require simplifying assumptions. We present Diffusion-MPC, which leverages a learned generative diffusion model as an approximate dynamics prior for planning, enabling flexible test-time adaptation through reward and constraint based optimization. Diffusion-MPC jointly predicts future states and actions; at each reverse step, we incorporate reward planning and impose constraint projection, yielding trajectories that satisfy task objectives while remaining within physical limits. To obtain a planning model that adapts beyond imitation pretraining, we introduce an interactive training algorithm for diffusion based planner: we execute our reward-and-constraint planner in environment, then filter and reweight the collected trajectories by their realized returns before updating the denoiser. Our design enables strong test-time adaptability, allowing the planner to adjust to new reward specifications without retraining. We validate Diffusion-MPC on real world, demonstrating strong locomotion and flexible adaptation.

